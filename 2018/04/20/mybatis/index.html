<!DOCTYPE html>



  


<html class="theme-next pisces use-motion" lang="zh-Hans">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>
<meta name="theme-color" content="#222">









<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />
















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />







<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.1.4" rel="stylesheet" type="text/css" />


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png?v=5.1.4">


  <link rel="mask-icon" href="/images/logo.svg?v=5.1.4" color="#222">





  <meta name="keywords" content="Mybatis," />










<meta name="description" content="è¯´æ˜ï¼šæœ¬æ–‡ç”±å¤§é‡çš„æºä»£ç ï¼ŒåŠæˆªå›¾ï¼Œå»ºè®®è¯»è€…ï¼Œæ“ä½œä¸€éã€‚ideï¼šIDEAã€‚æ–‡æœ«æœ‰ç¬”è®°åŠè§†é¢‘åˆ†äº« æ•°æ®è¡¨çš„sqlä¸‹è½½ å¯†ç : xjjw 1ã€å¯¹åŸç”Ÿæ€jdbcç¨‹åºï¼ˆå•ç‹¬ä½¿ç”¨jdbcå¼€å‘ï¼‰é—®é¢˜æ€»ç»“å…ˆæ¥çœ‹ä¸€éƒ¨åˆ†ä»£ç 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535">
<meta name="keywords" content="Mybatis">
<meta property="og:type" content="article">
<meta property="og:title" content="Mybatiså­¦ä¹ ç¬”è®°ğŸ•Š">
<meta property="og:url" content="http://yoursite.com/2018/04/20/mybatis/index.html">
<meta property="og:site_name" content="EasyChill&#39;Blogs">
<meta property="og:description" content="è¯´æ˜ï¼šæœ¬æ–‡ç”±å¤§é‡çš„æºä»£ç ï¼ŒåŠæˆªå›¾ï¼Œå»ºè®®è¯»è€…ï¼Œæ“ä½œä¸€éã€‚ideï¼šIDEAã€‚æ–‡æœ«æœ‰ç¬”è®°åŠè§†é¢‘åˆ†äº« æ•°æ®è¡¨çš„sqlä¸‹è½½ å¯†ç : xjjw 1ã€å¯¹åŸç”Ÿæ€jdbcç¨‹åºï¼ˆå•ç‹¬ä½¿ç”¨jdbcå¼€å‘ï¼‰é—®é¢˜æ€»ç»“å…ˆæ¥çœ‹ä¸€éƒ¨åˆ†ä»£ç 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535">
<meta property="og:locale" content="zh-Hans">
<meta property="og:image" content="https://img-blog.csdn.net/20180420191152719?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L1NvbmdfSmlhbmdUYW8=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70">
<meta property="og:image" content="https://img-blog.csdn.net/20180420192318329?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L1NvbmdfSmlhbmdUYW8=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70">
<meta property="og:image" content="https://img-blog.csdn.net/20180420192421830?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L1NvbmdfSmlhbmdUYW8=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70">
<meta property="og:image" content="https://img-blog.csdn.net/20180421194813729?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L1NvbmdfSmlhbmdUYW8=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70">
<meta property="og:image" content="https://img-blog.csdn.net/20180421194952190?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L1NvbmdfSmlhbmdUYW8=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70">
<meta property="og:image" content="https://img-blog.csdn.net/2018042120040421?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L1NvbmdfSmlhbmdUYW8=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70">
<meta property="og:image" content="https://img-blog.csdn.net/20180421200413843?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L1NvbmdfSmlhbmdUYW8=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70">
<meta property="og:image" content="https://img-blog.csdn.net/20180421203823427?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L1NvbmdfSmlhbmdUYW8=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70">
<meta property="og:image" content="https://img-blog.csdn.net/20180422184535281?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L1NvbmdfSmlhbmdUYW8=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70">
<meta property="og:image" content="https://img-blog.csdn.net/20180422185457670?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L1NvbmdfSmlhbmdUYW8=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70">
<meta property="og:image" content="https://img-blog.csdn.net/20180422191151327?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L1NvbmdfSmlhbmdUYW8=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70">
<meta property="og:image" content="https://img-blog.csdn.net/20180422185514111?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L1NvbmdfSmlhbmdUYW8=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70">
<meta property="og:image" content="https://img-blog.csdn.net/20180422190340650?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L1NvbmdfSmlhbmdUYW8=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70">
<meta property="og:image" content="https://img-blog.csdn.net/20180422190515638?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L1NvbmdfSmlhbmdUYW8=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70">
<meta property="og:image" content="https://img-blog.csdn.net/20180422190525912?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L1NvbmdfSmlhbmdUYW8=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70">
<meta property="og:image" content="https://img-blog.csdn.net/20180422190700191?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L1NvbmdfSmlhbmdUYW8=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70">
<meta property="og:image" content="https://img-blog.csdn.net/20180422190712411?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L1NvbmdfSmlhbmdUYW8=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70">
<meta property="og:image" content="https://img-blog.csdn.net/20180422190756669?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L1NvbmdfSmlhbmdUYW8=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70">
<meta property="og:image" content="https://img-blog.csdn.net/20180422190807604?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L1NvbmdfSmlhbmdUYW8=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70">
<meta property="og:image" content="https://img-blog.csdn.net/20180422202525550?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L1NvbmdfSmlhbmdUYW8=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70">
<meta property="og:image" content="https://img-blog.csdn.net/20180422202534357?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L1NvbmdfSmlhbmdUYW8=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70">
<meta property="og:image" content="https://img-blog.csdn.net/20180422203142431?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L1NvbmdfSmlhbmdUYW8=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70">
<meta property="og:image" content="https://img-blog.csdn.net/20180422203155118?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L1NvbmdfSmlhbmdUYW8=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70">
<meta property="og:image" content="https://img-blog.csdn.net/20180422203206632?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L1NvbmdfSmlhbmdUYW8=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70">
<meta property="og:image" content="https://img-blog.csdn.net/20180422205018480?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L1NvbmdfSmlhbmdUYW8=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70">
<meta property="og:image" content="https://img-blog.csdn.net/20180422205107494?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L1NvbmdfSmlhbmdUYW8=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70">
<meta property="og:image" content="https://img-blog.csdn.net/20180422205352753?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L1NvbmdfSmlhbmdUYW8=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70">
<meta property="og:image" content="https://img-blog.csdn.net/20180422205223880?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L1NvbmdfSmlhbmdUYW8=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70">
<meta property="og:image" content="https://img-blog.csdn.net/2018042419301948?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L1NvbmdfSmlhbmdUYW8=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70">
<meta property="og:image" content="https://img-blog.csdn.net/2018042419302869?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L1NvbmdfSmlhbmdUYW8=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70">
<meta property="og:image" content="https://img-blog.csdn.net/20180424194937777?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L1NvbmdfSmlhbmdUYW8=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70">
<meta property="og:image" content="https://img-blog.csdn.net/20180424194956372?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L1NvbmdfSmlhbmdUYW8=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70">
<meta property="og:image" content="https://img-blog.csdn.net/20180424195023388?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L1NvbmdfSmlhbmdUYW8=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70">
<meta property="og:image" content="https://img-blog.csdn.net/20180424203923979?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L1NvbmdfSmlhbmdUYW8=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70">
<meta property="og:image" content="https://img-blog.csdn.net/20180424204153986?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L1NvbmdfSmlhbmdUYW8=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70">
<meta property="og:image" content="https://img-blog.csdn.net/20180424204301957?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L1NvbmdfSmlhbmdUYW8=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70">
<meta property="og:image" content="https://img-blog.csdn.net/20180424204327547?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L1NvbmdfSmlhbmdUYW8=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70">
<meta property="og:image" content="https://img-blog.csdn.net/20180424210559929?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L1NvbmdfSmlhbmdUYW8=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70">
<meta property="og:image" content="https://img-blog.csdn.net/20180424210645508?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L1NvbmdfSmlhbmdUYW8=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70">
<meta property="og:image" content="https://img-blog.csdn.net/20180424210723446?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L1NvbmdfSmlhbmdUYW8=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70">
<meta property="og:image" content="https://img-blog.csdn.net/20180424212749871?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L1NvbmdfSmlhbmdUYW8=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70">
<meta property="og:image" content="https://img-blog.csdn.net/20180424212812856?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L1NvbmdfSmlhbmdUYW8=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70">
<meta property="og:image" content="https://img-blog.csdn.net/2018042421284048?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L1NvbmdfSmlhbmdUYW8=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70">
<meta property="og:image" content="https://img-blog.csdn.net/20180424212856266?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L1NvbmdfSmlhbmdUYW8=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70">
<meta property="og:image" content="https://img-blog.csdn.net/20180424213406417?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L1NvbmdfSmlhbmdUYW8=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70">
<meta property="og:image" content="https://img-blog.csdn.net/20180425194135238?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L1NvbmdfSmlhbmdUYW8=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70">
<meta property="og:image" content="https://img-blog.csdn.net/20180425194250260?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L1NvbmdfSmlhbmdUYW8=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70">
<meta property="og:image" content="https://img-blog.csdn.net/20180425194544579?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L1NvbmdfSmlhbmdUYW8=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70">
<meta property="og:image" content="https://img-blog.csdn.net/20180425194356425?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L1NvbmdfSmlhbmdUYW8=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70">
<meta property="og:image" content="https://img-blog.csdn.net/20180425194439135?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L1NvbmdfSmlhbmdUYW8=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70">
<meta property="og:image" content="https://img-blog.csdn.net/20180429162309692?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L1NvbmdfSmlhbmdUYW8=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70">
<meta property="og:image" content="https://img-blog.csdn.net/20180429174426722?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L1NvbmdfSmlhbmdUYW8=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70">
<meta property="og:image" content="https://img-blog.csdn.net/20180502105143436?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L1NvbmdfSmlhbmdUYW8=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70">
<meta property="og:image" content="https://img-blog.csdn.net/2018050210531373?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L1NvbmdfSmlhbmdUYW8=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70">
<meta property="og:image" content="https://img-blog.csdn.net/20180502112111808?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L1NvbmdfSmlhbmdUYW8=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70">
<meta property="og:image" content="https://img-blog.csdn.net/20180502115222752?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L1NvbmdfSmlhbmdUYW8=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70">
<meta property="og:image" content="https://img-blog.csdn.net/20180502115232686?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L1NvbmdfSmlhbmdUYW8=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70">
<meta property="og:image" content="https://img-blog.csdn.net/20180502115327122?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L1NvbmdfSmlhbmdUYW8=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70">
<meta property="og:image" content="https://img-blog.csdn.net/20180502131052785?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L1NvbmdfSmlhbmdUYW8=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70">
<meta property="og:image" content="https://img-blog.csdn.net/20180502132013592?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L1NvbmdfSmlhbmdUYW8=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70">
<meta property="og:image" content="https://img-blog.csdn.net/20180502133031610?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L1NvbmdfSmlhbmdUYW8=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70">
<meta property="og:image" content="https://img-blog.csdn.net/20180502165235383?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L1NvbmdfSmlhbmdUYW8=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70">
<meta property="og:updated_time" content="2018-09-21T14:58:19.509Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Mybatiså­¦ä¹ ç¬”è®°ğŸ•Š">
<meta name="twitter:description" content="è¯´æ˜ï¼šæœ¬æ–‡ç”±å¤§é‡çš„æºä»£ç ï¼ŒåŠæˆªå›¾ï¼Œå»ºè®®è¯»è€…ï¼Œæ“ä½œä¸€éã€‚ideï¼šIDEAã€‚æ–‡æœ«æœ‰ç¬”è®°åŠè§†é¢‘åˆ†äº« æ•°æ®è¡¨çš„sqlä¸‹è½½ å¯†ç : xjjw 1ã€å¯¹åŸç”Ÿæ€jdbcç¨‹åºï¼ˆå•ç‹¬ä½¿ç”¨jdbcå¼€å‘ï¼‰é—®é¢˜æ€»ç»“å…ˆæ¥çœ‹ä¸€éƒ¨åˆ†ä»£ç 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535">
<meta name="twitter:image" content="https://img-blog.csdn.net/20180420191152719?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L1NvbmdfSmlhbmdUYW8=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Pisces',
    version: '5.1.4',
    sidebar: {"position":"left","display":"post","offset":12,"b2t":false,"scrollpercent":false,"onmobile":false},
    fancybox: true,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    duoshuo: {
      userId: '0',
      author: 'åšä¸»'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="http://yoursite.com/2018/04/20/mybatis/"/>





  <title>Mybatiså­¦ä¹ ç¬”è®°ğŸ•Š | EasyChill'Blogs</title>
  








</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">

  
  
    
  

  <div class="container sidebar-position-left page-post-detail">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/"  class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">EasyChill'Blogs</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle">ä¸“æ³¨è€Œéå¹¿åš</p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            é¦–é¡µ
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />
            
            å½’æ¡£
          </a>
        </li>
      
        
        <li class="menu-item menu-item-about">
          <a href="/about/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-user"></i> <br />
            
            å…³äº
          </a>
        </li>
      
        
        <li class="menu-item menu-item-è”ç³»æˆ‘">
          <a href="/message/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-envelope"></i> <br />
            
            è”ç³»æˆ‘
          </a>
        </li>
      

      
    </ul>
  

  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            

  <div id="posts" class="posts-expand">
    

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/04/20/mybatis/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="EasyChill">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="http://www.qqzhi.com/uploadpic/2014-05-04/034226102.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="EasyChill'Blogs">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">Mybatiså­¦ä¹ ç¬”è®°ğŸ•Š</h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">å‘è¡¨äº</span>
              
              <time title="åˆ›å»ºäº" itemprop="dateCreated datePublished" datetime="2018-04-20T14:33:34+08:00">
                2018-04-20
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        <p><em>è¯´æ˜ï¼šæœ¬æ–‡ç”±å¤§é‡çš„æºä»£ç ï¼ŒåŠæˆªå›¾ï¼Œå»ºè®®è¯»è€…ï¼Œæ“ä½œä¸€éã€‚ideï¼šIDEAã€‚æ–‡æœ«æœ‰ç¬”è®°åŠè§†é¢‘åˆ†äº«</em></p>
<p>æ•°æ®è¡¨çš„sqlä¸‹è½½<a href="https://pan.baidu.com/s/16WabwxxmnPghSRw5DpCEfQ" target="_blank" rel="noopener"> å¯†ç : xjjw</a></p>
<h2 id="1ã€å¯¹åŸç”Ÿæ€jdbcç¨‹åºï¼ˆå•ç‹¬ä½¿ç”¨jdbcå¼€å‘ï¼‰é—®é¢˜æ€»ç»“"><a href="#1ã€å¯¹åŸç”Ÿæ€jdbcç¨‹åºï¼ˆå•ç‹¬ä½¿ç”¨jdbcå¼€å‘ï¼‰é—®é¢˜æ€»ç»“" class="headerlink" title="1ã€å¯¹åŸç”Ÿæ€jdbcç¨‹åºï¼ˆå•ç‹¬ä½¿ç”¨jdbcå¼€å‘ï¼‰é—®é¢˜æ€»ç»“"></a>1ã€å¯¹åŸç”Ÿæ€jdbcç¨‹åºï¼ˆå•ç‹¬ä½¿ç”¨jdbcå¼€å‘ï¼‰é—®é¢˜æ€»ç»“</h2><p>å…ˆæ¥çœ‹ä¸€éƒ¨åˆ†ä»£ç <br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br></pre></td><td class="code"><pre><span class="line">Public static void main(String[] args) &#123;</span><br><span class="line">			Connection connection = null;</span><br><span class="line">			PreparedStatement preparedStatement = null;</span><br><span class="line">			ResultSet resultSet = null;</span><br><span class="line">			</span><br><span class="line">			try &#123;</span><br><span class="line">				//åŠ è½½æ•°æ®åº“é©±åŠ¨</span><br><span class="line">				Class.forName(&quot;com.mysql.jdbc.Driver&quot;);</span><br><span class="line">				</span><br><span class="line">				//é€šè¿‡é©±åŠ¨ç®¡ç†ç±»è·å–æ•°æ®åº“é“¾æ¥</span><br><span class="line">				connection =  DriverManager.getConnection(&quot;jdbc:mysql://localhost:3306/mybatis?characterEncoding=utf-8&quot;, &quot;root&quot;, &quot;mysql&quot;);</span><br><span class="line">				//å®šä¹‰sqlè¯­å¥ ?è¡¨ç¤ºå ä½ç¬¦</span><br><span class="line">			String sql = &quot;select * from user where username = ?&quot;;</span><br><span class="line">				//è·å–é¢„å¤„ç†statement</span><br><span class="line">				preparedStatement = connection.prepareStatement(sql);</span><br><span class="line">				//è®¾ç½®å‚æ•°ï¼Œç¬¬ä¸€ä¸ªå‚æ•°ä¸ºsqlè¯­å¥ä¸­å‚æ•°çš„åºå·ï¼ˆä»1å¼€å§‹ï¼‰ï¼Œç¬¬äºŒä¸ªå‚æ•°ä¸ºè®¾ç½®çš„å‚æ•°å€¼</span><br><span class="line">				preparedStatement.setString(1, &quot;ç‹äº”&quot;);</span><br><span class="line">				//å‘æ•°æ®åº“å‘å‡ºsqlæ‰§è¡ŒæŸ¥è¯¢ï¼ŒæŸ¥è¯¢å‡ºç»“æœé›†</span><br><span class="line">				resultSet =  preparedStatement.executeQuery();</span><br><span class="line">				//éå†æŸ¥è¯¢ç»“æœé›†</span><br><span class="line">				while(resultSet.next())&#123;</span><br><span class="line">					System.out.println(resultSet.getString(&quot;id&quot;)+&quot;  &quot;+resultSet.getString(&quot;username&quot;));</span><br><span class="line">				&#125;</span><br><span class="line">			&#125; catch (Exception e) &#123;</span><br><span class="line">				e.printStackTrace();</span><br><span class="line">			&#125;finally&#123;</span><br><span class="line">				//é‡Šæ”¾èµ„æº</span><br><span class="line">				if(resultSet!=null)&#123;</span><br><span class="line">					try &#123;</span><br><span class="line">						resultSet.close();</span><br><span class="line">					&#125; catch (SQLException e) &#123;</span><br><span class="line">						// TODO Auto-generated catch block</span><br><span class="line">						e.printStackTrace();</span><br><span class="line">					&#125;</span><br><span class="line">				&#125;</span><br><span class="line">				if(preparedStatement!=null)&#123;</span><br><span class="line">					try &#123;</span><br><span class="line">						preparedStatement.close();</span><br><span class="line">					&#125; catch (SQLException e) &#123;</span><br><span class="line">						// TODO Auto-generated catch block</span><br><span class="line">						e.printStackTrace();</span><br><span class="line">					&#125;</span><br><span class="line">				&#125;</span><br><span class="line">				if(connection!=null)&#123;</span><br><span class="line">					try &#123;</span><br><span class="line">						connection.close();</span><br><span class="line">					&#125; catch (SQLException e) &#123;</span><br><span class="line">						// TODO Auto-generated catch block</span><br><span class="line">						e.printStackTrace();</span><br><span class="line">					&#125;</span><br><span class="line">				&#125;</span><br><span class="line"></span><br><span class="line">			&#125;</span><br><span class="line"></span><br><span class="line">		&#125;</span><br></pre></td></tr></table></figure></p>
<p>ä¸Šé¢ä»£ç æœ‰å¦‚ä¸‹å‡ ä¸ªé—®é¢˜ï¼š</p>
<ul>
<li>æ•°æ®åº“è¿æ¥ï¼Œä½¿ç”¨æ—¶åˆ›å»ºï¼Œä¸ä½¿ç”¨å°±å…³é—­ï¼Œå¯¹æ•°æ®åº“è¿›è¡Œé¢‘ç¹è¿æ¥å¼€å¯å’Œå…³é—­ï¼Œé€ æˆæ•°æ®åº“èµ„æºçš„æµªè´¹<ul>
<li>è§£å†³ï¼š<strong>ä½¿ç”¨æ•°æ®åº“è¿æ¥æ± ç®¡ç†æ•°æ®åº“è¿æ¥</strong></li>
</ul>
</li>
<li>å°†sql è¯­å¥ç¡¬ç¼–ç åˆ°Javaä»£ç ä¸­ï¼Œå¦‚æœsqlè¯­å¥ä¿®æ”¹ï¼Œéœ€è¦å¯¹javaä»£ç é‡æ–°ç¼–è¯‘ï¼Œä¸åˆ©äºç³»ç»Ÿç»´æŠ¤<ul>
<li>è§£å†³ï¼š<strong>å°†sqlè¯­å¥è®¾ç½®åœ¨xmlé…ç½®æ–‡ä»¶ä¸­ï¼Œå³ä½¿sqlå˜åŒ–ï¼Œä¹Ÿæ— éœ€é‡æ–°ç¼–è¯‘</strong></li>
</ul>
</li>
<li>å‘preparedStatementä¸­è®¾ç½®å‚æ•°ï¼Œå¯¹å ä½ç¬¦ä½ç½®å’Œè®¾ç½®å‚æ•°å€¼ï¼Œç¡¬ç¼–ç åˆ°Javaæ–‡ä»¶ä¸­ï¼Œä¸åˆ©äºç³»ç»Ÿç»´æŠ¤<ul>
<li>è§£å†³ï¼š<strong>å°†sqlè¯­å¥åŠå ä½ç¬¦ï¼Œå‚æ•°å…¨éƒ¨é…ç½®åœ¨xmlæ–‡ä»¶ä¸­</strong></li>
</ul>
</li>
<li>ä»resutSetä¸­éå†ç»“æœé›†æ•°æ®æ—¶ï¼Œå­˜åœ¨ç¡¬ç¼–ç ï¼Œå°†è·å–è¡¨çš„å­—æ®µè¿›è¡Œç¡¬ç¼–ç ï¼Œä¸åˆ©äºç³»ç»Ÿç»´æŠ¤ã€‚<ul>
<li>è§£å†³ï¼š<strong>å°†æŸ¥è¯¢çš„ç»“æœé›†ï¼Œè‡ªåŠ¨æ˜ å°„æˆjavaå¯¹è±¡</strong></li>
</ul>
</li>
</ul>
<h2 id="2ã€Mybatisæ¡†æ¶åŸç†-æŒæ¡"><a href="#2ã€Mybatisæ¡†æ¶åŸç†-æŒæ¡" class="headerlink" title="2ã€Mybatisæ¡†æ¶åŸç†(æŒæ¡)"></a>2ã€Mybatisæ¡†æ¶åŸç†(æŒæ¡)</h2><ul>
<li><strong>ä»€ä¹ˆæ˜¯Mybatisï¼Ÿ</strong><ul>
<li>mybatisæ˜¯ä¸€ä¸ªæŒä¹…å±‚çš„æ¡†æ¶ï¼Œæ˜¯apacheä¸‹çš„é¡¶çº§é¡¹ç›®ã€‚</li>
<li>mybatisæ‰˜ç®¡åˆ°goolecodeä¸‹ï¼Œåæ¥æ‰˜ç®¡åˆ°githubä¸‹:<a href="https://github.com/mybatis/mybatis-3/releases" target="_blank" rel="noopener">mybatis Githubåœ°å€</a></li>
<li>mybatisè®©ç¨‹åºå°†ä¸»è¦ç²¾åŠ›æ”¾åœ¨sqlä¸Šï¼Œé€šè¿‡mybatisæä¾›çš„æ˜ å°„æ–¹å¼ï¼Œè‡ªç”±çµæ´»ç”Ÿæˆï¼ˆåŠè‡ªåŠ¨åŒ–ï¼Œå¤§éƒ¨åˆ†éœ€è¦ç¨‹åºå‘˜ç¼–å†™sqlï¼‰æ»¡è¶³éœ€è¦sqlè¯­å¥ã€‚</li>
<li>mybatiså¯ä»¥å°†å‘ preparedStatementä¸­çš„è¾“å…¥å‚æ•°è‡ªåŠ¨è¿›è¡Œè¾“å…¥æ˜ å°„ï¼Œå°†æŸ¥è¯¢ç»“æœé›†çµæ´»æ˜ å°„æˆjavaå¯¹è±¡ã€‚ï¼ˆè¾“å‡ºæ˜ å°„ï¼‰</li>
</ul>
</li>
<li><strong>MybatisåŸç†å›¾</strong>ï¼š<br><img src="https://img-blog.csdn.net/20180420191152719?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L1NvbmdfSmlhbmdUYW8=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70" alt="è¿™é‡Œå†™å›¾ç‰‡æè¿°"></li>
</ul>
<h2 id="3ã€Mybatiså…¥é—¨ç¨‹åº"><a href="#3ã€Mybatiså…¥é—¨ç¨‹åº" class="headerlink" title="3ã€Mybatiså…¥é—¨ç¨‹åº"></a>3ã€Mybatiså…¥é—¨ç¨‹åº</h2><ul>
<li>Mybatiså’ŒSpringMVCå®ç°è®¢å•å•†å“æ¡ˆä¾‹</li>
<li><strong>éœ€æ±‚</strong><ul>
<li>æ ¹æ®ç”¨æˆ·çš„idæŸ¥è¯¢ç”¨æˆ·ä¿¡æ¯</li>
<li>æ ¹æ®ç”¨æˆ·çš„åç§°æ¨¡ç³ŠæŸ¥è¯¢ç”¨æˆ·ä¿¡æ¯</li>
<li>æ·»åŠ ç”¨æˆ·</li>
<li>åˆ é™¤ç”¨æˆ·</li>
<li>æ›´æ–°ç”¨æˆ·</li>
</ul>
</li>
<li><p>Mybatisçš„è¿è¡Œç¯å¢ƒï¼ˆjaråŒ…ï¼‰</p>
<ul>
<li><p>ä»è¿™é‡Œç‚¹å‡»<a href="https://github.com/mybatis/mybatis-3/releases" target="_blank" rel="noopener">ä¸‹è½½</a></p>
<p>ç¬”è€…ä¸‹è½½çš„æ˜¯ï¼š<br><img src="https://img-blog.csdn.net/20180420192318329?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L1NvbmdfSmlhbmdUYW8=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70" alt="è¿™é‡Œå†™å›¾ç‰‡æè¿°"><br>ä¸‹è½½<strong>mybatis-3.4.6.zip</strong>è§£å‹å³å¯<br><img src="https://img-blog.csdn.net/20180420192421830?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L1NvbmdfSmlhbmdUYW8=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70" alt="è¿™é‡Œå†™å›¾ç‰‡æè¿°"></p>
<ul>
<li>libä¸‹ï¼šä¾èµ–åŒ…</li>
<li>mybatis-3.4.6.jarï¼šæ ¸å¿ƒ åŒ…</li>
<li>mybatis-3.4.6.pdfï¼Œæ“ä½œæŒ‡å—</li>
</ul>
</li>
</ul>
<p><strong>ç›®å½•ç»“æ„ï¼š</strong><br><img src="https://img-blog.csdn.net/20180421194813729?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L1NvbmdfSmlhbmdUYW8=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70" alt="è¿™é‡Œå†™å›¾ç‰‡æè¿°"><br><strong>jaråŒ…ç»“æ„</strong><br><img src="https://img-blog.csdn.net/20180421194952190?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L1NvbmdfSmlhbmdUYW8=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70" alt="è¿™é‡Œå†™å›¾ç‰‡æè¿°"><br>è¿‡ç¨‹ä¸­éœ€è¦æ•°æ®åº“çš„è¿æ¥ï¼Œjunitçš„è°ƒè¯•ï¼Œæ³¨æ„è¦å°†jaråŒ…<strong>build pathï¼</strong></p>
</li>
</ul>
<p><strong>log4j.properties</strong><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"># Global logging configuration</span><br><span class="line"># å¼€å‘ç¯å¢ƒä¸‹ï¼Œæ—¥å¿—çº§åˆ«è¦è®¾ç½®æˆDEBUGæˆ–è€…ERROR</span><br><span class="line">log4j.rootLogger=DEBUG, stdout</span><br><span class="line"># Console output...</span><br><span class="line">log4j.appender.stdout=org.apache.log4j.ConsoleAppender</span><br><span class="line">log4j.appender.stdout.layout=org.apache.log4j.PatternLayout</span><br><span class="line">log4j.appender.stdout.layout.ConversionPattern=%5p [%t] - %m%n</span><br></pre></td></tr></table></figure></p>
<p><strong>SqlMapConfig.xml</strong><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; ?&gt;</span><br><span class="line">&lt;!DOCTYPE configuration</span><br><span class="line">        PUBLIC &quot;-//mybatis.org//DTD Config 3.0//EN&quot;</span><br><span class="line">        &quot;http://mybatis.org/dtd/mybatis-3-config.dtd&quot;&gt;</span><br><span class="line">&lt;configuration&gt;</span><br><span class="line">    &lt;!-- å’Œspringæ•´åˆå environmentsé…ç½®å°†åºŸé™¤--&gt;</span><br><span class="line">    &lt;environments default=&quot;development&quot;&gt;</span><br><span class="line">        &lt;environment id=&quot;development&quot;&gt;</span><br><span class="line">            &lt;!-- ä½¿ç”¨jdbcäº‹åŠ¡ç®¡ç†--&gt;</span><br><span class="line">            &lt;transactionManager type=&quot;JDBC&quot; /&gt;</span><br><span class="line">            &lt;!-- æ•°æ®åº“è¿æ¥æ± --&gt;</span><br><span class="line">            &lt;dataSource type=&quot;POOLED&quot;&gt;</span><br><span class="line">                &lt;property name=&quot;driver&quot; value=&quot;com.mysql.jdbc.Driver&quot; /&gt;</span><br><span class="line">                &lt;property name=&quot;url&quot; value=&quot;jdbc:mysql://localhost:3306/mybatis?characterEncoding=utf-8&quot; /&gt;</span><br><span class="line">                &lt;property name=&quot;username&quot; value=&quot;root&quot; /&gt;</span><br><span class="line">                &lt;property name=&quot;password&quot; value=&quot;&quot; /&gt;</span><br><span class="line">            &lt;/dataSource&gt;</span><br><span class="line">        &lt;/environment&gt;</span><br><span class="line">    &lt;/environments&gt;</span><br><span class="line">    &lt;!--åŠ è½½æ˜ å°„æ–‡ä»¶--&gt;</span><br><span class="line">    &lt;mappers&gt;</span><br><span class="line">        &lt;mapper resource=&quot;sqlmap/User.xml&quot;/&gt;</span><br><span class="line">    &lt;/mappers&gt;</span><br><span class="line">&lt;/configuration&gt;</span><br></pre></td></tr></table></figure></p>
<p><strong>User.xml</strong><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br></pre></td><td class="code"><pre><span class="line">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; ?&gt;</span><br><span class="line">&lt;!DOCTYPE mapper</span><br><span class="line">        PUBLIC &quot;-//mybatis.org//DTD Mapper 3.0//EN&quot;</span><br><span class="line">        &quot;http://mybatis.org/dtd/mybatis-3-mapper.dtd&quot;&gt;</span><br><span class="line">&lt;!--</span><br><span class="line">    å‘½åç©ºé—´ï¼Œä½œç”¨ä¸ºï¼Œå¯¹sqlè¿›è¡Œåˆ†ç±»åŒ–ç®¡ç†ï¼Œç†è§£sqléš”ç¦»ï¼Œ</span><br><span class="line">    æ³¨æ„ï¼šä½¿ç”¨mapperä»£ç†æ–¹æ³•å¼€å‘ï¼Œnamespaceæœ‰ç‰¹æ®Šä½œç”¨</span><br><span class="line">--&gt;</span><br><span class="line">&lt;mapper namespace=&quot;test&quot;&gt;</span><br><span class="line">    &lt;!--åœ¨æ˜ å°„æ–‡ä»¶ä¸­é…ç½®sql--&gt;</span><br><span class="line">    &lt;!--</span><br><span class="line">        findUserById</span><br><span class="line">        é€šè¿‡selectæ‰§è¡Œæ•°æ®åº“æŸ¥è¯¢</span><br><span class="line">        idï¼šæ ‡è¯†æ˜ å°„æ–‡ä»¶çš„sql</span><br><span class="line">        å°†sqlè¯­å¥å°è£…åˆ°mappedStatementå¯¹è±¡ä¸­ï¼Œæ‰€ä»¥å°†idç§°ä¸ºStatementçš„id</span><br><span class="line">        #&#123;&#125;:è¡¨ç¤ºä¸€ä¸ªå ä½ç¬¦</span><br><span class="line">        parameterType:æŒ‡å®šè¾“å…¥å‚æ•°çš„ç±»å‹</span><br><span class="line">        #&#123;id&#125;ï¼šå…¶ä¸­çš„idè¡¨ç¤ºæ¥æ”¶è¾“å…¥çš„å‚æ•°ï¼Œå‚æ•°çš„åç§°å°±æ˜¯idï¼Œå¦‚æœè¾“å…¥å‚æ•°ç±»å‹ä¸ºç®€å•ç±»å‹ï¼Œé‚£ä¹ˆ#&#123;&#125;ä¸­çš„å‚æ•°å¯ä»¥ä»»æ„ï¼Œå¯ä»¥æ˜¯valueæˆ–å…¶ä»–</span><br><span class="line">        resultTypeï¼šæŒ‡å®šsqlè¾“å‡ºç»“æœçš„æ‰€æ˜ å°„çš„Javaå¯¹è±¡ç±»å‹ï¼ŒselectæŒ‡å®šçš„resultTypeè¡¨ç¤ºå°†å•æ¡è®°å½•æ˜ å°„æˆçš„Javaå¯¹è±¡</span><br><span class="line">    --&gt;</span><br><span class="line">    &lt;select id=&quot;findUserById&quot; parameterType=&quot;int&quot; resultType=&quot;com.nuc.mybatis.po.User&quot;&gt;</span><br><span class="line">        select * from user where id=#&#123;VALUE &#125;</span><br><span class="line">    &lt;/select&gt;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    &lt;!--</span><br><span class="line">        findUserByName</span><br><span class="line">        $&#123;&#125;:è¡¨ç¤ºæ‹¼æ¥å­—ç¬¦ä¸²ï¼Œå°†æ¥æ”¶åˆ°çš„sqlä¸åŠ ä»»ä½•ä¿®é¥°æ‹¼æ¥åœ¨sqlè¯­å¥é‡Œ</span><br><span class="line">        ä½¿ç”¨$&#123;&#125;æ‹¼æ¥sqlï¼Œå¯èƒ½ä¼šå¼•èµ·sqlæ³¨å…¥,ä¸€èˆ¬ä¸å»ºè®®ä½¿ç”¨</span><br><span class="line">        $&#123;value&#125;ï¼šæ¥æ”¶å‚æ•°çš„å†…å®¹ï¼Œå¦‚æœä¼ å…¥çš„çš„æ˜¯ç®€å•ç±»å‹ï¼Œ$&#123;&#125;ä¸­åªèƒ½ä½¿ç”¨value</span><br><span class="line">    --&gt;</span><br><span class="line">    &lt;select id=&quot;findUserByName&quot; parameterType=&quot;java.lang.String&quot; resultType=&quot;com.nuc.mybatis.po.User&quot;&gt;</span><br><span class="line">        select * from user WHERE username LIKE &apos;%$&#123;value&#125;%&apos;</span><br><span class="line">    &lt;/select&gt;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    &lt;!--</span><br><span class="line">        æ·»åŠ ç”¨æˆ·</span><br><span class="line">        parameterType:æŒ‡å®šå‚æ•°ç±»å‹ä¸ºpojoç±»å‹</span><br><span class="line">        #&#123;&#125;ä¸­æŒ‡å®špojoçš„å±æ€§åï¼Œæ¥æ”¶åˆ°çš„pojoå¯¹è±¡çš„å±æ€§å€¼ï¼Œmybatisé€šè¿‡OGNLè·å–å¯¹è±¡çš„å€¼</span><br><span class="line">        SELECT LAST_INSERT_ID():å¾—åˆ°åˆšåˆšinsertè¿›å»çš„è®°å½•çš„ä¸»é”®å€¼ï¼Œåªé€‚ç”¨äºä¸»é”®è‡ªå¢</span><br><span class="line">        éä¸»é”®è‡ªçš„åˆ™éœ€è¦ä½¿ç”¨uuid()æ¥å®ç°,è¡¨çš„idç±»å‹ä¹Ÿå¾—è®¾ç½®ä¸ºtring(è¯¦è§ä¸‹é¢çš„æ³¨é‡Š)</span><br><span class="line">        keyPropertyï¼šå°†æŸ¥è¯¢åˆ°çš„ä¸»é”®å€¼è®¾ç½®åˆ°SparameterTypeæŒ‡å®šçš„å¯¹è±¡çš„å“ªä¸ªå±æ€§</span><br><span class="line">        order:SELECT LAST_INSERT_ID()æ‰§è¡Œé¡ºåºï¼Œç›¸å½“äºinsertè¯­å¥æ¥è¯´å®ƒçš„å®ç°é¡ºåº</span><br><span class="line"></span><br><span class="line">    --&gt;</span><br><span class="line">    &lt;insert id=&quot;insertUser&quot; parameterType=&quot;com.nuc.mybatis.po.User&quot;&gt;</span><br><span class="line">        &lt;!--uuid()--&gt;</span><br><span class="line">        &lt;!--</span><br><span class="line">            &lt;selectKey keyProperty=&quot;id&quot; order=&quot;AFTER&quot; resultType=&quot;java.lang.String&quot;&gt;</span><br><span class="line">              SELECT uuid()</span><br><span class="line">            &lt;/selectKey&gt;</span><br><span class="line">            insert into user (id,username,birthday,sex,address) value(#&#123;id&#125;,#&#123;username&#125;,#&#123;birthday&#125;,#&#123;sex&#125;,#&#123;address&#125;)</span><br><span class="line">        --&gt;</span><br><span class="line">      &lt;selectKey keyProperty=&quot;id&quot; order=&quot;AFTER&quot; resultType=&quot;java.lang.Integer&quot;&gt;</span><br><span class="line">          SELECT LAST_INSERT_ID()</span><br><span class="line">      &lt;/selectKey&gt;</span><br><span class="line">      insert into user (username,birthday,sex,address) value(#&#123;username&#125;,#&#123;birthday&#125;,#&#123;sex&#125;,#&#123;address&#125;)</span><br><span class="line">    &lt;/insert&gt;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    &lt;delete id=&quot;deleteUser&quot; parameterType=&quot;java.lang.Integer&quot;&gt;</span><br><span class="line">        delete from user where id=#&#123;id&#125;</span><br><span class="line">    &lt;/delete&gt;</span><br><span class="line"></span><br><span class="line">    &lt;update id=&quot;updateUser&quot; parameterType=&quot;com.nuc.mybatis.po.User&quot;&gt;</span><br><span class="line">        UPDATE user set username=#&#123;username&#125;,birthday=#&#123;birthday&#125;,sex=#&#123;sex&#125;,address=#&#123;address&#125; where id=#&#123;id&#125;</span><br><span class="line">    &lt;/update&gt;</span><br><span class="line">&lt;/mapper&gt;</span><br></pre></td></tr></table></figure></p>
<p><strong>User.java</strong><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br></pre></td><td class="code"><pre><span class="line">package com.nuc.mybatis.po;</span><br><span class="line"></span><br><span class="line">import java.util.Date;</span><br><span class="line"></span><br><span class="line">public class User &#123;</span><br><span class="line">    //ç”¨æˆ·po</span><br><span class="line">    //å±æ€§åå’Œæ•°æ®åº“å­—æ®µåå¯¹åº”</span><br><span class="line">    private int id;</span><br><span class="line">    private String username;// ç”¨æˆ·å§“å</span><br><span class="line">    private String sex;// æ€§åˆ«</span><br><span class="line">    private Date birthday;// ç”Ÿæ—¥</span><br><span class="line">    private String address;// åœ°å€</span><br><span class="line"></span><br><span class="line">    public int getId() &#123;</span><br><span class="line">        return id;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    public void setId(int id) &#123;</span><br><span class="line">        this.id = id;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    public String getUsername() &#123;</span><br><span class="line">        return username;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    public void setUsername(String username) &#123;</span><br><span class="line">        this.username = username;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    public String getSex() &#123;</span><br><span class="line">        return sex;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    public void setSex(String sex) &#123;</span><br><span class="line">        this.sex = sex;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    public Date getBirthday() &#123;</span><br><span class="line">        return birthday;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    public void setBirthday(Date birthday) &#123;</span><br><span class="line">        this.birthday = birthday;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    public String getAddress() &#123;</span><br><span class="line">        return address;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    public void setAddress(String address) &#123;</span><br><span class="line">        this.address = address;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p><strong>MybatisFirst.java</strong><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br></pre></td><td class="code"><pre><span class="line">package com.nuc.mybatis.first;</span><br><span class="line"></span><br><span class="line">import com.nuc.mybatis.po.User;</span><br><span class="line">import org.apache.ibatis.io.Resources;</span><br><span class="line">import org.apache.ibatis.session.SqlSession;</span><br><span class="line">import org.apache.ibatis.session.SqlSessionFactory;</span><br><span class="line">import org.apache.ibatis.session.SqlSessionFactoryBuilder;</span><br><span class="line">import org.junit.Test;</span><br><span class="line"></span><br><span class="line">import java.io.IOException;</span><br><span class="line">import java.io.InputStream;</span><br><span class="line">import java.util.Date;</span><br><span class="line">import java.util.List;</span><br><span class="line"></span><br><span class="line">public class MybatisFirst &#123;</span><br><span class="line">    //æ ¹æ®idæŸ¥è¯¢ç”¨æˆ·ä¿¡æ¯ï¼Œå¾—åˆ°ä¸€æ¡è®°å½•</span><br><span class="line">    @Test</span><br><span class="line">    public void findUserByIdTest() throws IOException &#123;</span><br><span class="line">        //mybatisé…ç½®æ–‡ä»¶</span><br><span class="line">        String resource = &quot;SqlMapConfig.xml&quot;;</span><br><span class="line">        InputStream inputStream = Resources.getResourceAsStream(resource);</span><br><span class="line">        //åˆ›å»ºä¼šè¯å·¥å‚</span><br><span class="line">        SqlSessionFactory sqlSessionFactory = new SqlSessionFactoryBuilder().build(inputStream);</span><br><span class="line">        //é€šè¿‡å·¥å‚å¾—åˆ°SqlSession</span><br><span class="line">        SqlSession sqlSession = sqlSessionFactory.openSession();</span><br><span class="line">        //é€šè¿‡SqlSessionæ“ä½œæ•°æ®åº“</span><br><span class="line">        //ç¬¬ä¸€ä¸ªå‚æ•°ï¼šæ˜ å°„æ–‡ä»¶ä¸­çš„statementçš„idï¼Œç­‰äºnamespace+&quot;.&quot;+statementçš„id</span><br><span class="line">        //ç¬¬äºŒä¸ªå‚æ•°ï¼šæŒ‡å®šå’Œæ˜ å°„æ–‡ä»¶ä¸­æ‰€åŒ¹é…çš„æ‰€æœ‰parameterTypeçš„ç±»å‹</span><br><span class="line">        //sqlSession.selectOne()çš„ç»“æœæ˜¯æ˜ å°„æ–‡ä»¶ä¸­æ‰€åŒ¹é…çš„resultTypeç±»å‹çš„å¯¹è±¡</span><br><span class="line">        User user = sqlSession.selectOne(&quot;test.findUserById&quot;,1);</span><br><span class="line">        System.out.println(user);</span><br><span class="line">        //é‡Šæ”¾èµ„æº</span><br><span class="line">        sqlSession.close();</span><br><span class="line">    &#125;</span><br><span class="line">    //æ ¹æ®ç”¨æˆ·åç§°æŸ¥è¯¢ç”¨æˆ·åˆ—è¡¨</span><br><span class="line">    @Test</span><br><span class="line">    public void findUserByName() throws IOException &#123;</span><br><span class="line">        //mybatisé…ç½®æ–‡ä»¶</span><br><span class="line">        String resource = &quot;SqlMapConfig.xml&quot;;</span><br><span class="line">        InputStream inputStream = Resources.getResourceAsStream(resource);</span><br><span class="line">        //åˆ›å»ºä¼šè¯å·¥å‚</span><br><span class="line">        SqlSessionFactory sqlSessionFactory = new SqlSessionFactoryBuilder().build(inputStream);</span><br><span class="line">        //é€šè¿‡å·¥å‚å¾—åˆ°SqlSession</span><br><span class="line">        SqlSession sqlSession = sqlSessionFactory.openSession();</span><br><span class="line">        List&lt;User&gt; list= sqlSession.selectList(&quot;test.findUserByName&quot;,&quot;å°æ˜&quot;);</span><br><span class="line">        System.out.println(list);</span><br><span class="line">        sqlSession.close();</span><br><span class="line">    &#125;</span><br><span class="line">/*</span><br><span class="line">    å°ç»“ï¼š</span><br><span class="line">    selectOneå’ŒselectListï¼š</span><br><span class="line"></span><br><span class="line">    selectOneè¡¨ç¤ºæŸ¥è¯¢å‡ºä¸€æ¡è®°å½•è¿›è¡Œæ˜ å°„ã€‚å¦‚æœä½¿ç”¨selectOneå¯ä»¥å®ç°ä½¿ç”¨selectListä¹Ÿå¯ä»¥å®ç°ï¼ˆlistä¸­åªæœ‰ä¸€ä¸ªå¯¹è±¡ï¼‰ã€‚</span><br><span class="line">    selectListè¡¨ç¤ºæŸ¥è¯¢å‡ºä¸€ä¸ªåˆ—è¡¨ï¼ˆå¤šæ¡è®°å½•ï¼‰è¿›è¡Œæ˜ å°„ã€‚å¦‚æœä½¿ç”¨selectListæŸ¥è¯¢å¤šæ¡è®°å½•ï¼Œä¸èƒ½ä½¿ç”¨selectOneã€‚</span><br><span class="line">    å¦‚æœä½¿ç”¨selectOneæŠ¥é”™ï¼š</span><br><span class="line">    org.apache.ibatis.exceptions.TooManyResultsException: Expected one result (or null) to be returned by selectOne(), but found: 4</span><br><span class="line"></span><br><span class="line"> */</span><br><span class="line">    @Test</span><br><span class="line">    public void insertUserTest() throws IOException &#123;</span><br><span class="line">        //mybatisé…ç½®æ–‡ä»¶</span><br><span class="line">        String resource = &quot;SqlMapConfig.xml&quot;;</span><br><span class="line">        InputStream inputStream = Resources.getResourceAsStream(resource);</span><br><span class="line">        //åˆ›å»ºä¼šè¯å·¥å‚</span><br><span class="line">        SqlSessionFactory sqlSessionFactory = new SqlSessionFactoryBuilder().build(inputStream);</span><br><span class="line">        //é€šè¿‡å·¥å‚å¾—åˆ°SqlSession</span><br><span class="line">        SqlSession sqlSession = sqlSessionFactory.openSession();</span><br><span class="line">        User user = new User();</span><br><span class="line">        user.setUsername(&quot;å®‹æ±Ÿæ¶›&quot;);</span><br><span class="line">        user.setBirthday(new Date());</span><br><span class="line">        user.setSex(&quot;ç”·&quot;);</span><br><span class="line">        user.setAddress(&quot;å±±è¥¿&quot;);</span><br><span class="line">        //listä¸­çš„userå’Œæ˜ å°„æ–‡ä»¶User.xmlä¸­çš„resultTypeçš„ç±»å‹ä¸€ç›´</span><br><span class="line">        sqlSession.insert(&quot;test.insertUser&quot;,user);</span><br><span class="line">        //æäº¤äº‹åŠ¡</span><br><span class="line">        sqlSession.commit();</span><br><span class="line">        //è·å–ä¸»é”®</span><br><span class="line">        System.out.println(user.getId());</span><br><span class="line">        sqlSession.close();</span><br><span class="line">    &#125;</span><br><span class="line">    //åˆ é™¤ç”¨æˆ·</span><br><span class="line">    @Test</span><br><span class="line">    public void deleteUserTest() throws IOException &#123;</span><br><span class="line">        //mybatisé…ç½®æ–‡ä»¶</span><br><span class="line">        String resource = &quot;SqlMapConfig.xml&quot;;</span><br><span class="line">        InputStream inputStream = Resources.getResourceAsStream(resource);</span><br><span class="line">        //åˆ›å»ºä¼šè¯å·¥å‚</span><br><span class="line">        SqlSessionFactory sqlSessionFactory = new SqlSessionFactoryBuilder().build(inputStream);</span><br><span class="line">        //é€šè¿‡å·¥å‚å¾—åˆ°SqlSession</span><br><span class="line">        SqlSession sqlSession = sqlSessionFactory.openSession();</span><br><span class="line"></span><br><span class="line">        //listä¸­çš„userå’Œæ˜ å°„æ–‡ä»¶User.xmlä¸­çš„resultTypeçš„ç±»å‹ä¸€ç›´</span><br><span class="line">        sqlSession.delete(&quot;test.deleteUser&quot;,30);</span><br><span class="line">        //æäº¤äº‹åŠ¡</span><br><span class="line">        sqlSession.commit();</span><br><span class="line">        sqlSession.close();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    //æ›´æ–°ç”¨æˆ·</span><br><span class="line">    @Test</span><br><span class="line">    public void updateUserTest() throws IOException &#123;</span><br><span class="line">        //mybatisé…ç½®æ–‡ä»¶</span><br><span class="line">        String resource = &quot;SqlMapConfig.xml&quot;;</span><br><span class="line">        InputStream inputStream = Resources.getResourceAsStream(resource);</span><br><span class="line">        //åˆ›å»ºä¼šè¯å·¥å‚</span><br><span class="line">        SqlSessionFactory sqlSessionFactory = new SqlSessionFactoryBuilder().build(inputStream);</span><br><span class="line">        //é€šè¿‡å·¥å‚å¾—åˆ°SqlSession</span><br><span class="line">        SqlSession sqlSession = sqlSessionFactory.openSession();</span><br><span class="line">        User user = new User();</span><br><span class="line">        user.setId(27);</span><br><span class="line">        user.setUsername(&quot;å®‹æ±Ÿæ¶›new2&quot;);</span><br><span class="line">        user.setBirthday(new Date());</span><br><span class="line">        user.setSex(&quot;ç”·&quot;);</span><br><span class="line">        user.setAddress(&quot;å±±è¥¿å¤ªåŸnew&quot;);</span><br><span class="line">        //listä¸­çš„userå’Œæ˜ å°„æ–‡ä»¶User.xmlä¸­çš„resultTypeçš„ç±»å‹ä¸€ç›´</span><br><span class="line">        sqlSession.update(&quot;test.updateUser&quot;,user);</span><br><span class="line">        //æäº¤äº‹åŠ¡</span><br><span class="line">        sqlSession.commit();</span><br><span class="line">        sqlSession.close();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p><strong>æ•°æ®åº“çš„è®¾è®¡å›¾</strong><br><img src="https://img-blog.csdn.net/2018042120040421?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L1NvbmdfSmlhbmdUYW8=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70" alt="è¿™é‡Œå†™å›¾ç‰‡æè¿°"><br><img src="https://img-blog.csdn.net/20180421200413843?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L1NvbmdfSmlhbmdUYW8=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70" alt="è¿™é‡Œå†™å›¾ç‰‡æè¿°"><br><strong>éƒ¨åˆ†æµ‹è¯•ç»“æœ</strong><br><img src="https://img-blog.csdn.net/20180421203823427?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L1NvbmdfSmlhbmdUYW8=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70" alt="è¿™é‡Œå†™å›¾ç‰‡æè¿°"><br><strong>jdbcçš„æµ‹è¯•ç¨‹åºï¼Œå‰é¢å·²ç»æ²¾è¿‡ã€‚</strong><br><strong>é‡ç‚¹å†…å®¹åœ¨ä»£ç çš„æ³¨é‡Šä¸­å‡å·²è¯´æ˜</strong></p>
<p><strong>mybatiså’Œhibernateæœ¬è´¨åŒºåˆ«å’Œåº”ç”¨åœºæ™¯</strong></p>
<ul>
<li><p>hibernateï¼šæ˜¯ä¸€ä¸ªæ ‡å‡†ORMæ¡†æ¶ï¼ˆå¯¹è±¡å…³ç³»æ˜ å°„ï¼‰ã€‚å…¥é—¨é—¨æ§›è¾ƒé«˜çš„ï¼Œä¸éœ€è¦ç¨‹åºå†™sqlï¼Œsqlè¯­å¥è‡ªåŠ¨ç”Ÿæˆäº†ã€‚<br>å¯¹sqlè¯­å¥è¿›è¡Œä¼˜åŒ–ã€ä¿®æ”¹æ¯”è¾ƒå›°éš¾çš„ã€‚</p>
<ul>
<li>åº”ç”¨åœºæ™¯ï¼š<ul>
<li>é€‚ç”¨ä¸éœ€æ±‚å˜åŒ–ä¸å¤šçš„ä¸­å°å‹é¡¹ç›®ï¼Œæ¯”å¦‚ï¼šåå°ç®¡ç†ç³»ç»Ÿï¼Œerpã€ormã€oaã€‚ã€‚</li>
</ul>
</li>
</ul>
</li>
<li><p>mybatisï¼šä¸“æ³¨æ˜¯sqlæœ¬èº«ï¼Œéœ€è¦ç¨‹åºå‘˜è‡ªå·±ç¼–å†™sqlè¯­å¥ï¼Œsqlä¿®æ”¹ã€ä¼˜åŒ–æ¯”è¾ƒæ–¹ä¾¿ã€‚mybatisæ˜¯ä¸€ä¸ªä¸å®Œå…¨ çš„ORMæ¡†æ¶ï¼Œè™½ç„¶ç¨‹åºå‘˜è‡ªå·±å†™sqlï¼Œmybatis ä¹Ÿå¯ä»¥å®ç°æ˜ å°„ï¼ˆè¾“å…¥æ˜ å°„ã€è¾“å‡ºæ˜ å°„ï¼‰ã€‚</p>
<ul>
<li>åº”ç”¨åœºæ™¯ï¼š<ul>
<li>é€‚ç”¨ä¸éœ€æ±‚å˜åŒ–è¾ƒå¤šçš„é¡¹ç›®ï¼Œæ¯”å¦‚ï¼šäº’è”ç½‘é¡¹ç›®ã€‚</li>
</ul>
</li>
</ul>
</li>
</ul>
<p><strong>ä¼ä¸šè¿›è¡ŒæŠ€æœ¯é€‰å‹ï¼Œä»¥ä½æˆæœ¬ é«˜å›æŠ¥ä½œä¸ºæŠ€æœ¯é€‰å‹çš„åŸåˆ™ï¼Œæ ¹æ®é¡¹ç›®ç»„çš„æŠ€æœ¯åŠ›é‡è¿›è¡Œé€‰æ‹©ã€‚</strong></p>
<h2 id="4ã€Mybatiså¼€å‘daoçš„æ–¹æ³•"><a href="#4ã€Mybatiså¼€å‘daoçš„æ–¹æ³•" class="headerlink" title="4ã€Mybatiså¼€å‘daoçš„æ–¹æ³•"></a>4ã€Mybatiså¼€å‘daoçš„æ–¹æ³•</h2><ul>
<li><p><strong>åŸå§‹daoå¼€å‘æ–¹æ³•ï¼ˆç¨‹åºéœ€è¦ç¼–å†™daoæ¥å£å’Œdaoå®ç°ç±»ï¼‰(æŒæ¡)</strong></p>
<ul>
<li>åœ¨åŸæœ‰é¡¹ç›®çš„åŸºç¡€ä¸Šï¼Œ<strong>srcç›®å½•ä¸‹åˆ›å»ºcom.nuc.mybatis.dao</strong></li>
<li>åœ¨è¿™ä¸ªåŒ…é‡Œæœ‰ä¸¤ä¸ªæ–‡ä»¶ï¼Œä¸€ä¸ªæ˜¯<strong>UserDao.java</strong>ï¼Œå¦ä¸€ä¸ªæ˜¯<strong>UserDaoImpl.java</strong>è¿™ä¸ªç±»ç»§æ‰¿æ¥å£<strong>UserDao.java</strong></li>
<li>åœ¨åˆ›å»ºä¸€ä¸ªå’ŒsrcåŒçº§çš„æ–‡ä»¶å¤¹ï¼ˆè®°çš„æŠŠå®ƒæ ‡è®°ä¸ºsourcesï¼‰å…·ä½“æ–¹æ³•è§<a href="https://blog.csdn.net/song_jiangtao/article/details/80030243" target="_blank" rel="noopener">è¯¦æƒ…</a></li>
<li><p>åœ¨testä¸‹åˆ›å»º<strong>com.nuc.mybatis.test</strong>ï¼Œåˆ›å»ºç±»<strong>UserDaoImplTest.java</strong></p>
<p><strong>å…·ä½“ç›®å½•ç»“æ„ï¼š</strong><br><img src="https://img-blog.csdn.net/20180422184535281?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L1NvbmdfSmlhbmdUYW8=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70" alt="è¿™é‡Œå†™å›¾ç‰‡æè¿°"><br><strong>ç»“æ„ä¸­çš„ç›¸å…³mapperè¯·å…ˆå¿½ç•¥</strong></p>
</li>
</ul>
</li>
</ul>
<p><strong>UserDao.java</strong><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">package com.nuc.mybatis.dao;</span><br><span class="line"></span><br><span class="line">import com.nuc.mybatis.po.User;</span><br><span class="line"></span><br><span class="line">public interface UserDao &#123;</span><br><span class="line">    //daoåŸå§‹å¼€å‘</span><br><span class="line">    //æ ¹æ®idæŸ¥è¯¢ç”¨æˆ·ä¿¡æ¯</span><br><span class="line">    public User findUserById(int id) throws Exception;</span><br><span class="line">    //æ·»åŠ ç”¨æˆ·</span><br><span class="line">    public void insertUser(User user) throws Exception;</span><br><span class="line">    //åˆ é™¤ç”¨æˆ·</span><br><span class="line">    public void deleteUser(int id) throws Exception;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p><strong>UserDaoImpl.java</strong><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line">package com.nuc.mybatis.dao;</span><br><span class="line"></span><br><span class="line">import com.nuc.mybatis.po.User;</span><br><span class="line">import org.apache.ibatis.session.SqlSessionFactory;</span><br><span class="line">import org.apache.ibatis.session.SqlSession;</span><br><span class="line"></span><br><span class="line">public class UserDaoImpl implements UserDao &#123;</span><br><span class="line">    //åŸç”Ÿæ€çš„dao</span><br><span class="line">    //éœ€è¦å‘daoå®ç°ç±»é‡Œæ³¨å…¥SqlSessionFactory</span><br><span class="line">    //é€šè¿‡æ„é€ æ–¹æ³•</span><br><span class="line">    private SqlSessionFactory sqlSessionFactory;</span><br><span class="line"></span><br><span class="line">    public UserDaoImpl(SqlSessionFactory sqlSessionFactory)&#123;</span><br><span class="line">        this.sqlSessionFactory=sqlSessionFactory;</span><br><span class="line">    &#125;</span><br><span class="line">    @Override</span><br><span class="line">    public User findUserById(int id) throws Exception &#123;</span><br><span class="line">        SqlSession sqlSession = sqlSessionFactory.openSession();</span><br><span class="line">        User user = sqlSession.selectOne(&quot;test.findUserById&quot;,id);</span><br><span class="line">        sqlSession.close();</span><br><span class="line">        return user;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    @Override</span><br><span class="line">    public void insertUser(User user) throws Exception &#123;</span><br><span class="line">        SqlSession sqlSession = sqlSessionFactory.openSession();</span><br><span class="line">        sqlSession.insert(&quot;test.insertUser&quot;,user);</span><br><span class="line">        sqlSession.commit();</span><br><span class="line">        sqlSession.close();</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    @Override</span><br><span class="line">    public void deleteUser(int id) throws Exception &#123;</span><br><span class="line">        SqlSession sqlSession = sqlSessionFactory.openSession();</span><br><span class="line">        sqlSession.insert(&quot;test.deleteUser&quot;,id);</span><br><span class="line">        sqlSession.commit();</span><br><span class="line">        sqlSession.close();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p><strong>UserDaoImplTest.java</strong><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line">package com.nuc.mybatis.test;</span><br><span class="line"></span><br><span class="line">import com.nuc.mybatis.mapper.UserMapper;</span><br><span class="line">import com.nuc.mybatis.po.User;</span><br><span class="line">import org.apache.ibatis.io.Resources;</span><br><span class="line">import org.apache.ibatis.session.SqlSession;</span><br><span class="line">import org.apache.ibatis.session.SqlSessionFactory;</span><br><span class="line">import org.apache.ibatis.session.SqlSessionFactoryBuilder;</span><br><span class="line">import org.junit.Before;</span><br><span class="line">import org.junit.Test;</span><br><span class="line"></span><br><span class="line">import java.io.InputStream;</span><br><span class="line">import java.util.List;</span><br><span class="line"></span><br><span class="line">public class UserMapperTest &#123;</span><br><span class="line">    //åŸå§‹daoçš„æµ‹è¯•</span><br><span class="line">    private SqlSessionFactory sqlSessionFactory;</span><br><span class="line">    @Before</span><br><span class="line">    public void setUp() throws Exception&#123;</span><br><span class="line">        String resource = &quot;SqlMapConfig.xml&quot;;</span><br><span class="line">        InputStream inputStream = Resources.getResourceAsStream(resource);</span><br><span class="line">        //åˆ›å»ºä¼šè¯å·¥å‚</span><br><span class="line">        sqlSessionFactory = new</span><br><span class="line">                SqlSessionFactoryBuilder().build(inputStream);</span><br><span class="line">    &#125;</span><br><span class="line">    @Test</span><br><span class="line">    public void testFindUserById() throws Exception&#123;</span><br><span class="line">      SqlSession sqlSession = sqlSessionFactory.openSession();</span><br><span class="line">       //åˆ›å»ºUserMapperçš„å¯¹è±¡,mybatisè‡ªåŠ¨è°ƒç”¨</span><br><span class="line">        UserMapper userMapper = sqlSession.getMapper(UserMapper.class);</span><br><span class="line">        User user = userMapper.findUserById(1);</span><br><span class="line">        System.out.println(user);</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">    @Test</span><br><span class="line">    public void testFindUserByName() throws Exception&#123;</span><br><span class="line">        SqlSession sqlSession = sqlSessionFactory.openSession();</span><br><span class="line">        //åˆ›å»ºUserMapperçš„å¯¹è±¡,mybatisè‡ªåŠ¨è°ƒç”¨</span><br><span class="line">        UserMapper userMapper = sqlSession.getMapper(UserMapper.class);</span><br><span class="line">        List&lt;User&gt; list= userMapper.findUserByName(&quot;å®‹æ±Ÿæ¶›&quot;);</span><br><span class="line">        System.out.println(list);</span><br><span class="line">    &#125;</span><br><span class="line">    //å…¶ä»–çš„æµ‹è¯•ï¼Œå¯ä»¥ç…§çŒ«ç”»è™</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p><strong>æµ‹è¯•ç»“æœï¼š</strong><br><img src="https://img-blog.csdn.net/20180422185457670?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L1NvbmdfSmlhbmdUYW8=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70" alt="è¿™é‡Œå†™å›¾ç‰‡æè¿°"></p>
<ul>
<li><p><strong>Mybatisçš„mapperæ¥å£ï¼ˆç›¸å½“äºdaoæ¥å£ï¼‰ä»£ç†å¼€å‘æ–¹æ³•(æŒæ¡)</strong></p>
<p>  <strong>æ ¹æ®ä¸Šé¢çš„ç»“æ„å›¾åˆ›å»ºç›¸åº”æ–‡ä»¶ï¼Œæºç å¦‚ä¸‹ï¼š</strong></p>
</li>
</ul>
<p><strong>UserMapper.java</strong><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">package com.nuc.mybatis.mapper;</span><br><span class="line"></span><br><span class="line">import com.nuc.mybatis.po.User;</span><br><span class="line"></span><br><span class="line">import java.util.List;</span><br><span class="line"></span><br><span class="line">public interface UserMapper &#123;</span><br><span class="line">    //mapperä»£ç†å¼€å‘å’Œdaoå¼€å‘å¯¹æ¯”</span><br><span class="line">//    mapperæ¥å£,ç›¸å½“äºdaoæ¥å£ï¼Œmybatiså¯ä»¥è‡ªåŠ¨ç”Ÿæˆmapperæ¥å£å®ç°ç±»çš„ä»£ç†å¯¹è±¡</span><br><span class="line">    //æ ¹æ®idæŸ¥è¯¢ç”¨æˆ·ä¿¡æ¯</span><br><span class="line">    public User findUserById(int id) throws Exception;</span><br><span class="line">    //æ ¹æ®ç”¨æˆ·åæŸ¥è¯¢ç”¨æˆ·åˆ—è¡¨</span><br><span class="line">    public List&lt;User&gt;findUserByName(String name) throws Exception;</span><br><span class="line">    //æ·»åŠ ç”¨æˆ·</span><br><span class="line">    public void insertUser(User user) throws Exception;</span><br><span class="line">    //åˆ é™¤ç”¨æˆ·</span><br><span class="line">    public void deleteUser(int id) throws Exception;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p><strong>UserMapper.xml</strong><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; ?&gt;</span><br><span class="line">&lt;!DOCTYPE mapper</span><br><span class="line">        PUBLIC &quot;-//mybatis.org//DTD Mapper 3.0//EN&quot;</span><br><span class="line">        &quot;http://mybatis.org/dtd/mybatis-3-mapper.dtd&quot;&gt;</span><br><span class="line">&lt;mapper namespace=&quot;com.nuc.mybatis.mapper.UserMapper&quot;&gt;</span><br><span class="line">    &lt;select id=&quot;findUserById&quot; parameterType=&quot;int&quot; resultType=&quot;com.nuc.mybatis.po.User&quot;&gt;</span><br><span class="line">        select * from user where id=#&#123;VALUE &#125;</span><br><span class="line">    &lt;/select&gt;</span><br><span class="line">    &lt;select id=&quot;findUserByName&quot; parameterType=&quot;java.lang.String&quot; resultType=&quot;com.nuc.mybatis.po.User&quot;&gt;</span><br><span class="line">        select * from user WHERE username LIKE &apos;%$&#123;value&#125;%&apos;</span><br><span class="line">    &lt;/select&gt;</span><br><span class="line">    </span><br><span class="line">    &lt;insert id=&quot;insertUser&quot; parameterType=&quot;com.nuc.mybatis.po.User&quot;&gt;</span><br><span class="line">     </span><br><span class="line">      &lt;selectKey keyProperty=&quot;id&quot; order=&quot;AFTER&quot; resultType=&quot;java.lang.Integer&quot;&gt;</span><br><span class="line">          SELECT LAST_INSERT_ID()</span><br><span class="line">      &lt;/selectKey&gt;</span><br><span class="line">      insert into user (username,birthday,sex,address) value(#&#123;username&#125;,#&#123;birthday&#125;,#&#123;sex&#125;,#&#123;address&#125;)</span><br><span class="line">    &lt;/insert&gt;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    &lt;delete id=&quot;deleteUser&quot; parameterType=&quot;java.lang.Integer&quot;&gt;</span><br><span class="line">        delete from user where id=#&#123;id&#125;</span><br><span class="line">    &lt;/delete&gt;</span><br><span class="line"></span><br><span class="line">    &lt;update id=&quot;updateUser&quot; parameterType=&quot;com.nuc.mybatis.po.User&quot;&gt;</span><br><span class="line">        UPDATE user set username=#&#123;username&#125;,birthday=#&#123;birthday&#125;,sex=#&#123;sex&#125;,address=#&#123;address&#125; where id=#&#123;id&#125;</span><br><span class="line">    &lt;/update&gt;</span><br><span class="line">&lt;/mapper&gt;</span><br></pre></td></tr></table></figure></p>
<p><strong>åœ¨æµ‹è¯•ä¹‹å‰éœ€è¦åœ¨SqlMapConfig.xmlä¸­åŠ è½½mapper.xmlè¿™ä¸ªæ˜ å°„æ–‡ä»¶</strong><br><img src="https://img-blog.csdn.net/20180422191151327?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L1NvbmdfSmlhbmdUYW8=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70" alt="è¿™é‡Œå†™å›¾ç‰‡æè¿°"><br><strong>UserMapperTest.java</strong><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line">package com.nuc.mybatis.test;</span><br><span class="line"></span><br><span class="line">import com.nuc.mybatis.mapper.UserMapper;</span><br><span class="line">import com.nuc.mybatis.po.User;</span><br><span class="line">import org.apache.ibatis.io.Resources;</span><br><span class="line">import org.apache.ibatis.session.SqlSession;</span><br><span class="line">import org.apache.ibatis.session.SqlSessionFactory;</span><br><span class="line">import org.apache.ibatis.session.SqlSessionFactoryBuilder;</span><br><span class="line">import org.junit.Before;</span><br><span class="line">import org.junit.Test;</span><br><span class="line"></span><br><span class="line">import java.io.InputStream;</span><br><span class="line">import java.util.List;</span><br><span class="line"></span><br><span class="line">public class UserMapperTest &#123;</span><br><span class="line">    //åŸå§‹mapperçš„æµ‹è¯•</span><br><span class="line">    private SqlSessionFactory sqlSessionFactory;</span><br><span class="line">    @Before</span><br><span class="line">    public void setUp() throws Exception&#123;</span><br><span class="line">        String resource = &quot;SqlMapConfig.xml&quot;;</span><br><span class="line">        InputStream inputStream = Resources.getResourceAsStream(resource);</span><br><span class="line">        //åˆ›å»ºä¼šè¯å·¥å‚</span><br><span class="line">        sqlSessionFactory = new</span><br><span class="line">                SqlSessionFactoryBuilder().build(inputStream);</span><br><span class="line">    &#125;</span><br><span class="line">    @Test</span><br><span class="line">    public void testFindUserById() throws Exception&#123;</span><br><span class="line">      SqlSession sqlSession = sqlSessionFactory.openSession();</span><br><span class="line">       //åˆ›å»ºUserMapperçš„å¯¹è±¡,mybatisè‡ªåŠ¨è°ƒç”¨</span><br><span class="line">        UserMapper userMapper = sqlSession.getMapper(UserMapper.class);</span><br><span class="line">        User user = userMapper.findUserById(1);</span><br><span class="line">        System.out.println(user);</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">    @Test</span><br><span class="line">    public void testFindUserByName() throws Exception&#123;</span><br><span class="line">    //è¿”å›åˆ—è¡¨æµ‹è¯•</span><br><span class="line">        SqlSession sqlSession = sqlSessionFactory.openSession();</span><br><span class="line">        //åˆ›å»ºUserMapperçš„å¯¹è±¡,mybatisè‡ªåŠ¨è°ƒç”¨</span><br><span class="line">        UserMapper userMapper = sqlSession.getMapper(UserMapper.class);</span><br><span class="line">        List&lt;User&gt; list= userMapper.findUserByName(&quot;å®‹æ±Ÿæ¶›&quot;);</span><br><span class="line">        System.out.println(list);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p><strong>éƒ¨åˆ†æµ‹è¯•ç»“æœï¼š</strong><br><img src="https://img-blog.csdn.net/20180422185514111?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L1NvbmdfSmlhbmdUYW8=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70" alt="è¿™é‡Œå†™å›¾ç‰‡æè¿°"><br><strong>æ€»ç»“ï¼š</strong></p>
<ul>
<li><strong>åŸå§‹daoå¼€å‘é—®é¢˜</strong><ul>
<li>daoæ¥å£å®ç°ç±»æ–¹æ³•ä¸­å­˜åœ¨å¤§é‡æ¨¡æ¿æ–¹æ³•ï¼Œè®¾æƒ³èƒ½å¦å°†è¿™äº›ä»£ç æå–å‡ºæ¥ï¼Œå¤§å¤§å‡è½»ç¨‹åºå‘˜çš„å·¥ä½œé‡ã€‚</li>
<li>è°ƒç”¨sqlsessionæ–¹æ³•æ—¶å°†statementçš„idç¡¬ç¼–ç äº†</li>
</ul>
</li>
<li><p><strong>mapperå¼€å‘</strong></p>
<ul>
<li>åªéœ€è¦ç¼–å†™ä¸¤ä¸ªæ–‡ä»¶ï¼Œmapper.java,mapper.xmlã€‚å³å¯ï¼Œä¸éœ€è¦ç±»æ¥ç»§æ‰¿å®ƒã€‚</li>
<li><p>mapperå¼€å‘åªéœ€è¦éµå®ˆå‡ ä¸ªè§„èŒƒå³å¯</p>
<ul>
<li><strong>åœ¨mapper.xmlä¸­namespaceç­‰äºmapperæ¥å£åœ°å€</strong><br><img src="https://img-blog.csdn.net/20180422190340650?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L1NvbmdfSmlhbmdUYW8=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70" alt="è¿™é‡Œå†™å›¾ç‰‡æè¿°"></li>
<li><strong>mapper.javaæ¥å£ä¸­çš„æ–¹æ³•åå’Œmapper.xmlä¸­statementçš„idä¸€è‡´</strong><br><img src="https://img-blog.csdn.net/20180422190515638?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L1NvbmdfSmlhbmdUYW8=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70" alt="è¿™é‡Œå†™å›¾ç‰‡æè¿°"><br><img src="https://img-blog.csdn.net/20180422190525912?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L1NvbmdfSmlhbmdUYW8=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70" alt="è¿™é‡Œå†™å›¾ç‰‡æè¿°"></li>
<li><strong>mapper.javaæ¥å£ä¸­çš„æ–¹æ³•è¾“å…¥å‚æ•°ç±»å‹å’Œmapper.xmlä¸­statementçš„parameterTypeæŒ‡å®šçš„ç±»å‹ä¸€è‡´ã€‚</strong><br><img src="https://img-blog.csdn.net/20180422190700191?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L1NvbmdfSmlhbmdUYW8=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70" alt="è¿™é‡Œå†™å›¾ç‰‡æè¿°"><br><img src="https://img-blog.csdn.net/20180422190712411?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L1NvbmdfSmlhbmdUYW8=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70" alt="è¿™é‡Œå†™å›¾ç‰‡æè¿°"></li>
<li><strong>mapper.javaæ¥å£ä¸­çš„æ–¹æ³•è¿”å›å€¼ç±»å‹å’Œmapper.xmlä¸­statementçš„resultTypeæŒ‡å®šçš„ç±»å‹ä¸€è‡´ã€‚</strong><br><img src="https://img-blog.csdn.net/20180422190756669?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L1NvbmdfSmlhbmdUYW8=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70" alt="è¿™é‡Œå†™å›¾ç‰‡æè¿°"><br><img src="https://img-blog.csdn.net/20180422190807604?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L1NvbmdfSmlhbmdUYW8=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70" alt="è¿™é‡Œå†™å›¾ç‰‡æè¿°"></li>
</ul>
</li>
<li><p>å…¶å®ï¼Œä»¥ä¸Šå¼€å‘è§„èŒƒä¸»è¦æ˜¯å¯¹ä¸‹è¾¹çš„ä»£ç <strong>è¿›è¡Œç»Ÿä¸€ç”Ÿæˆï¼š</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">User user = sqlSession.selectOne(&quot;test.findUserById&quot;, id);</span><br><span class="line">sqlSession.insert(&quot;test.insertUser&quot;, user);</span><br><span class="line">ã€‚ã€‚ã€‚ã€‚</span><br></pre></td></tr></table></figure>
</li>
<li><p><strong>mapperæ¥å£æ–¹æ³•å‚æ•°åªèƒ½æœ‰ä¸€ä¸ªæ˜¯å¦å½±å“ç³»ç»Ÿ å¼€å‘ï¼Ÿmapperæ¥å£æ–¹æ³•å‚æ•°åªèƒ½æœ‰ä¸€ä¸ªï¼Œç³»ç»Ÿæ˜¯å¦ä¸åˆ©äºæ‰©å±•ç»´æŠ¤ï¼Ÿ</strong></p>
<ul>
<li>ç³»ç»Ÿ æ¡†æ¶ä¸­ï¼Œdaoå±‚çš„ä»£ç æ˜¯è¢«ä¸šåŠ¡å±‚å…¬ç”¨çš„ã€‚</li>
<li>å³ä½¿mapperæ¥å£åªæœ‰ä¸€ä¸ªå‚æ•°ï¼Œå¯ä»¥ä½¿ç”¨åŒ…è£…ç±»å‹çš„pojoæ»¡è¶³ä¸åŒçš„ä¸šåŠ¡æ–¹æ³•çš„éœ€æ±‚ã€‚</li>
</ul>
<p><strong>æ³¨æ„ï¼šæŒä¹…å±‚æ–¹æ³•çš„å‚æ•°å¯ä»¥åŒ…è£…ç±»å‹ã€mapã€‚ã€‚ã€‚ï¼Œserviceæ–¹æ³•ä¸­å»ºè®®ä¸è¦ä½¿ç”¨åŒ…è£…ç±»å‹ï¼ˆä¸åˆ©äºä¸šåŠ¡å±‚çš„å¯æ‰©å±•ï¼‰ã€‚</strong></p>
</li>
</ul>
</li>
</ul>
<h2 id="5ã€Mybatisé…ç½®æ–‡ä»¶SqlMapConfig-xml"><a href="#5ã€Mybatisé…ç½®æ–‡ä»¶SqlMapConfig-xml" class="headerlink" title="5ã€Mybatisé…ç½®æ–‡ä»¶SqlMapConfig.xml"></a>5ã€Mybatisé…ç½®æ–‡ä»¶SqlMapConfig.xml</h2><ul>
<li><p>propertiesï¼ˆå±æ€§ï¼‰</p>
<ul>
<li>å°†æ•°æ®åº“è¿æ¥çš„å‚æ•°å•ç‹¬é…ç½®åœ¨ï¼Œdb.propertiesä¸­ï¼Œåªéœ€è¦åœ¨SqlMapConfig.xmlä¸­åŠ è½½db.propertiesçš„å±æ€§å€¼ã€‚åœ¨SqlMapConfig.xmlä¸­å°±ä¸éœ€è¦å¯¹æ•°æ®åº“è¿æ¥å‚æ•°ç¡¬ç¼–ç ã€‚</li>
<li><strong>å¥½å¤„ï¼š</strong>æ–¹ä¾¿å¯¹å‚æ•°è¿›è¡Œç»Ÿä¸€ç®¡ç†ï¼Œå…¶å®ƒxmlå¯ä»¥å¼•ç”¨è¯¥db.properties</li>
<li><p><strong>ç‰¹æ€§ï¼š</strong> MyBatis å°†æŒ‰ç…§ä¸‹é¢çš„é¡ºåºæ¥åŠ è½½å±æ€§ï¼š</p>
<ul>
<li>åœ¨ properties å…ƒç´ ä½“å†…å®šä¹‰çš„å±æ€§é¦–å…ˆè¢«è¯»å–ã€‚ </li>
<li>ç„¶åä¼šè¯»å–properties å…ƒç´ ä¸­resourceæˆ– url åŠ è½½çš„å±æ€§ï¼Œå®ƒä¼šè¦†ç›–å·²è¯»å–çš„åŒåå±æ€§ã€‚ </li>
<li><p>æœ€åè¯»å–parameterTypeä¼ é€’çš„å±æ€§ï¼Œå®ƒä¼šè¦†ç›–å·²è¯»å–çš„åŒåå±æ€§ã€‚</p>
<p><strong>å»ºè®®ï¼š</strong></p>
<ul>
<li>ä¸è¦åœ¨propertieså…ƒç´ ä½“å†…æ·»åŠ ä»»ä½•å±æ€§å€¼ï¼Œåªå°†å±æ€§å€¼å®šä¹‰åœ¨propertiesæ–‡ä»¶ä¸­ã€‚</li>
<li>åœ¨propertiesæ–‡ä»¶ä¸­å®šä¹‰å±æ€§åè¦æœ‰ä¸€å®šçš„ç‰¹æ®Šæ€§ï¼Œå¦‚XXXXX.XXXXX.XXXX<br><img src="https://img-blog.csdn.net/20180422202525550?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L1NvbmdfSmlhbmdUYW8=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70" alt="è¿™é‡Œå†™å›¾ç‰‡æè¿°"><br><img src="https://img-blog.csdn.net/20180422202534357?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L1NvbmdfSmlhbmdUYW8=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70" alt="è¿™é‡Œå†™å›¾ç‰‡æè¿°"></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li>settingsï¼ˆå…¨å±€é…ç½®å‚æ•°ï¼‰<ul>
<li>mybatisæ¡†æ¶åœ¨è¿è¡Œæ—¶å¯ä»¥è°ƒæ•´ä¸€äº›è¿è¡Œå‚æ•°ã€‚æ¯”å¦‚ï¼šå¼€å¯äºŒçº§ç¼“å­˜ã€å¼€å¯å»¶è¿ŸåŠ è½½ã€‚ã€‚<strong>å…¨å±€å‚æ•°å°†ä¼šå½±å“mybatisçš„è¿è¡Œè¡Œä¸ºã€‚å…·ä½“å¦‚ä¸‹ï¼š</strong><br><img src="https://img-blog.csdn.net/20180422203142431?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L1NvbmdfSmlhbmdUYW8=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70" alt="è¿™é‡Œå†™å›¾ç‰‡æè¿°"><br><img src="https://img-blog.csdn.net/20180422203155118?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L1NvbmdfSmlhbmdUYW8=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70" alt="è¿™é‡Œå†™å›¾ç‰‡æè¿°"><br><img src="https://img-blog.csdn.net/20180422203206632?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L1NvbmdfSmlhbmdUYW8=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70" alt="è¿™é‡Œå†™å›¾ç‰‡æè¿°"></li>
</ul>
</li>
<li>typeAliasesï¼ˆç±»å‹åˆ«åï¼‰(<strong>é‡ç‚¹</strong>)<ul>
<li>å•ä¸ªå®šä¹‰<br><img src="https://img-blog.csdn.net/20180422205018480?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L1NvbmdfSmlhbmdUYW8=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70" alt="è¿™é‡Œå†™å›¾ç‰‡æè¿°"></li>
<li>æ‰¹é‡å®šä¹‰ï¼ˆå¸¸ç”¨ï¼‰<br><img src="https://img-blog.csdn.net/20180422205107494?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L1NvbmdfSmlhbmdUYW8=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70" alt="è¿™é‡Œå†™å›¾ç‰‡æè¿°"><br>è¿™æ ·åœ¨å…¶ä»–åœ°æ–¹å°±å¯ä»¥ä½¿ç”¨ï¼Œä¾‹å¦‚ï¼š<br><img src="https://img-blog.csdn.net/20180422205352753?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L1NvbmdfSmlhbmdUYW8=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70" alt="è¿™é‡Œå†™å›¾ç‰‡æè¿°"></li>
<li>mybatisé»˜è®¤æ”¯æŒçš„åˆ«å<br><img src="https://img-blog.csdn.net/20180422205223880?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L1NvbmdfSmlhbmdUYW8=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70" alt="è¿™é‡Œå†™å›¾ç‰‡æè¿°"></li>
</ul>
</li>
<li>typeHandlersï¼ˆç±»å‹å¤„ç†å™¨ï¼‰<ul>
<li>mybatisä¸­é€šè¿‡typeHandlerså®Œæˆjdbcç±»å‹å’Œjavaç±»å‹çš„è½¬æ¢ã€‚é€šå¸¸æƒ…å†µä¸‹ï¼Œmybatisæä¾›çš„ç±»å‹å¤„ç†å™¨æ»¡è¶³æ—¥å¸¸éœ€è¦ï¼Œä¸éœ€è¦è‡ªå®šä¹‰.</li>
<li>mybatisæ”¯æŒçš„ç±»å‹å¤„ç†å™¨<br><img src="https://img-blog.csdn.net/2018042419301948?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L1NvbmdfSmlhbmdUYW8=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70" alt="è¿™é‡Œå†™å›¾ç‰‡æè¿°"><br><img src="https://img-blog.csdn.net/2018042419302869?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L1NvbmdfSmlhbmdUYW8=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70" alt="è¿™é‡Œå†™å›¾ç‰‡æè¿°"></li>
</ul>
</li>
<li>objectFactoryï¼ˆå¯¹è±¡å·¥å‚ï¼‰<ul>
<li>è¿™ä¸ªè‡ªè¡ŒæŸ¥çœ‹ä¸‹è½½mybatisæ—¶é™„å¸¦çš„pdfæ–‡ä»¶ï¼Œç”¨çš„ä¸å¤š</li>
</ul>
</li>
<li>pluginsï¼ˆæ’ä»¶ï¼‰</li>
<li>environmentsï¼ˆç¯å¢ƒé›†åˆå±æ€§å¯¹è±¡ï¼‰<ul>
<li>environmentï¼ˆç¯å¢ƒå­å±æ€§å¯¹è±¡ï¼‰<ul>
<li>transactionManagerï¼ˆäº‹åŠ¡ç®¡ç†ï¼‰</li>
<li>dataSourceï¼ˆæ•°æ®æºï¼‰</li>
</ul>
</li>
</ul>
</li>
<li>mappersï¼ˆæ˜ å°„å™¨ï¼‰<ul>
<li>é€šè¿‡resource<br><img src="https://img-blog.csdn.net/20180424194937777?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L1NvbmdfSmlhbmdUYW8=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70" alt="è¿™é‡Œå†™å›¾ç‰‡æè¿°"></li>
<li>é€šè¿‡class<br><img src="https://img-blog.csdn.net/20180424194956372?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L1NvbmdfSmlhbmdUYW8=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70" alt="è¿™é‡Œå†™å›¾ç‰‡æè¿°"></li>
<li>é€šè¿‡package(æ¨èä½¿ç”¨)<br><img src="https://img-blog.csdn.net/20180424195023388?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L1NvbmdfSmlhbmdUYW8=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70" alt="è¿™é‡Œå†™å›¾ç‰‡æè¿°"></li>
</ul>
</li>
</ul>
<h2 id="6ã€Mybatisæ ¸å¿ƒ"><a href="#6ã€Mybatisæ ¸å¿ƒ" class="headerlink" title="6ã€Mybatisæ ¸å¿ƒ"></a>6ã€Mybatisæ ¸å¿ƒ</h2><ul>
<li><p><strong>Mybatisè¾“å…¥æ˜ å°„ï¼ˆæŒæ¡ï¼‰</strong></p>
<ul>
<li>é€šè¿‡parameterTypeæŒ‡å®šè¾“å…¥å‚æ•°çš„ç±»å‹ï¼Œç±»å‹å¯ä»¥æ˜¯ç®€å•ç±»å‹ã€hashmapã€pojoçš„åŒ…è£…ç±»å‹<ul>
<li>ä¼ é€’pojoçš„åŒ…è£…å¯¹è±¡<ul>
<li><strong>éœ€æ±‚ï¼š</strong>å®Œæˆç”¨æˆ·ä¿¡æ¯çš„ç»¼åˆæŸ¥è¯¢ï¼Œéœ€è¦ä¼ å…¥æŸ¥è¯¢æ¡ä»¶å¾ˆå¤æ‚ï¼ˆå¯èƒ½åŒ…æ‹¬ç”¨æˆ·ä¿¡æ¯ã€å…¶å®ƒä¿¡æ¯ï¼Œæ¯”å¦‚å•†å“ã€è®¢å•çš„ï¼‰</li>
<li>é’ˆå¯¹ä¸Šè¾¹éœ€æ±‚ï¼Œå»ºè®®ä½¿ç”¨è‡ªå®šä¹‰çš„åŒ…è£…ç±»å‹çš„pojoã€‚<br>åœ¨åŒ…è£…ç±»å‹çš„pojoä¸­å°†å¤æ‚çš„æŸ¥è¯¢æ¡ä»¶åŒ…è£…è¿›å»ã€‚</li>
</ul>
</li>
</ul>
</li>
</ul>
<p><strong>ç›®å½•ç»“æ„</strong><br><img src="https://img-blog.csdn.net/20180424203923979?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L1NvbmdfSmlhbmdUYW8=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70" alt="è¿™é‡Œå†™å›¾ç‰‡æè¿°"><br><strong>UserCustom.java</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">package com.nuc.mybatis.po;</span><br><span class="line"></span><br><span class="line">public class UserCustom extends User &#123;</span><br><span class="line">    //å¯æ‰©å±•ç”¨æˆ·ä¿¡æ¯</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
</ul>
<p><strong>UserQueryVo.java</strong><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">package com.nuc.mybatis.po;</span><br><span class="line"></span><br><span class="line">public class UserQueryVo &#123;</span><br><span class="line">    //è¿™é‡ŒåŒ…è£…æ‰€éœ€çš„æŸ¥è¯¢æ¡ä»¶</span><br><span class="line"></span><br><span class="line">    //ç”¨æˆ·æŸ¥è¯¢æ¡ä»¶</span><br><span class="line">    private UserCustom userCustom;</span><br><span class="line"></span><br><span class="line">    public UserCustom getUserCustom() &#123;</span><br><span class="line">        return userCustom;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    public void setUserCustom(UserCustom userCustom) &#123;</span><br><span class="line">        this.userCustom = userCustom;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    //å¯åŒ…è£…å…¶ä»–çš„æŸ¥è¯¢æ¡ä»¶ï¼Œè®¢å•ï¼Œå•†å“ã€‚ã€‚ã€‚</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p><strong>UserMapper.xmlä¸­é…ç½®æ–°çš„æŸ¥è¯¢</strong><br><img src="https://img-blog.csdn.net/20180424204153986?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L1NvbmdfSmlhbmdUYW8=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70" alt="è¿™é‡Œå†™å›¾ç‰‡æè¿°"><br><strong>UserMapperTest.javaä¸­æ–°å¢æµ‹è¯•</strong><br><img src="https://img-blog.csdn.net/20180424204301957?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L1NvbmdfSmlhbmdUYW8=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70" alt="è¿™é‡Œå†™å›¾ç‰‡æè¿°"><br><strong>æµ‹è¯•ç»“æœ</strong><br><img src="https://img-blog.csdn.net/20180424204327547?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L1NvbmdfSmlhbmdUYW8=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70" alt="è¿™é‡Œå†™å›¾ç‰‡æè¿°"></p>
<ul>
<li><p><strong>Mybatisè¾“å‡ºæ˜ å°„ï¼ˆæŒæ¡ï¼‰</strong></p>
<ul>
<li><p><strong>ä¸€ã€resultType</strong></p>
<ul>
<li><strong>ä½¿ç”¨resultTypeè¿›è¡Œè¾“å‡ºæ˜ å°„ï¼Œåªæœ‰æŸ¥è¯¢å‡ºæ¥çš„åˆ—åå’Œpojoä¸­çš„å±æ€§åä¸€è‡´ï¼Œè¯¥åˆ—æ‰å¯ä»¥æ˜ å°„æˆåŠŸã€‚</strong></li>
<li>å¦‚æœæŸ¥è¯¢å‡ºæ¥çš„åˆ—åå’Œpojoä¸­çš„å±æ€§åå…¨éƒ¨ä¸ä¸€è‡´ï¼Œæ²¡æœ‰åˆ›å»ºpojoå¯¹è±¡ã€‚</li>
<li>åªè¦æŸ¥è¯¢å‡ºæ¥çš„åˆ—åå’Œpojoä¸­çš„å±æ€§æœ‰ä¸€ä¸ªä¸€è‡´ï¼Œå°±ä¼šåˆ›å»ºpojoå¯¹è±¡</li>
</ul>
<p><strong>åœ¨ä¸Šé¢çš„è¾“å…¥ä¸­ï¼Œå±äºæ¯ä¸€åˆ—éƒ½æˆåŠŸæ˜ å°„</strong><br><img src="https://img-blog.csdn.net/20180424210559929?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L1NvbmdfSmlhbmdUYW8=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70" alt="è¿™é‡Œå†™å›¾ç‰‡æè¿°"><br><strong>å½“æˆ‘ä»¬ä¿®æ”¹æŸ¥è¯¢è¯­å¥ä¸ºï¼š</strong><br><img src="https://img-blog.csdn.net/20180424210645508?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L1NvbmdfSmlhbmdUYW8=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70" alt="è¿™é‡Œå†™å›¾ç‰‡æè¿°"><br>å…¶ä¸­idï¼Œèµ·äº†åˆ«åå«åšid_<br><strong>æµ‹è¯•ç»“æœï¼š</strong><br><img src="https://img-blog.csdn.net/20180424210723446?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L1NvbmdfSmlhbmdUYW8=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70" alt="è¿™é‡Œå†™å›¾ç‰‡æè¿°"><br>å¾ˆæ˜æ˜¾ï¼Œç”±äºæŸ¥è¯¢æ¡ä»¶ï¼Œç”Ÿæ—¥å’Œåœ°å€ä¸ºç©ºï¼Œç”±äºidçš„æ˜ å°„å¤±è´¥ï¼Œå¯¼è‡´æŸ¥è¯¢idå¤±è´¥ï¼Œåªæœ‰sexä¸€åˆ—æ˜ å°„æˆåŠŸï¼Œæ•…æŸ¥è¯¢æˆåŠŸï¼ˆ1ä»£è¡¨ç”·ï¼Œ2ä»£è¡¨å¥³ï¼‰</p>
</li>
<li><strong>1.resultTypeçš„è¾“å‡ºç®€å•ç±»å‹</strong><ul>
<li><strong>éœ€æ±‚ï¼š</strong>ç”¨æˆ·ä¿¡æ¯çš„ç»¼åˆæŸ¥è¯¢åˆ—è¡¨æ€»æ•°ï¼Œé€šè¿‡æŸ¥è¯¢æ€»æ•°å’Œä¸Šè¾¹ç”¨æˆ·ç»¼åˆæŸ¥è¯¢åˆ—è¡¨æ‰å¯ä»¥å®ç°åˆ†é¡µã€‚ </li>
</ul>
</li>
</ul>
</li>
</ul>
<p><strong>å¦‚æ³•ç‚®åˆ¶</strong>ï¼Œå¯¹mapper.xmlç¼–è¾‘å’Œmapper.javaç¼–è¾‘<br>         <img src="https://img-blog.csdn.net/20180424212749871?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L1NvbmdfSmlhbmdUYW8=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70" alt="è¿™é‡Œå†™å›¾ç‰‡æè¿°"><br>         <img src="https://img-blog.csdn.net/20180424212812856?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L1NvbmdfSmlhbmdUYW8=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70" alt="è¿™é‡Œå†™å›¾ç‰‡æè¿°"><br>         <strong>æµ‹è¯•ä»£ç (å¤åˆ¶ä¿®æ”¹)</strong><br>         <img src="https://img-blog.csdn.net/2018042421284048?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L1NvbmdfSmlhbmdUYW8=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70" alt="è¿™é‡Œå†™å›¾ç‰‡æè¿°"><br>         <strong>æµ‹è¯•ç»“æœ</strong><br>         <img src="https://img-blog.csdn.net/20180424212856266?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L1NvbmdfSmlhbmdUYW8=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70" alt="è¿™é‡Œå†™å›¾ç‰‡æè¿°"><br>         <strong>æ€»ç»“ï¼šæŸ¥è¯¢å‡ºæ¥çš„ç»“æœé›†åªæœ‰ä¸€è¡Œä¸”ä¸€åˆ—ï¼Œå¯ä»¥ä½¿ç”¨ç®€å•ç±»å‹è¿›è¡Œè¾“å‡ºæ˜ å°„ã€‚</strong></p>
<ul>
<li><p><strong>2.resultTypeçš„è¾“å‡ºpojoå¯¹è±¡å’Œpojoåˆ—è¡¨</strong></p>
<ul>
<li><strong>ä¸ç®¡æ˜¯è¾“å‡ºçš„pojoå•ä¸ªå¯¹è±¡è¿˜æ˜¯ä¸€ä¸ªåˆ—è¡¨ï¼ˆlistä¸­åŒ…æ‹¬pojoï¼‰ï¼Œåœ¨mapper.xmlä¸­resultTypeæŒ‡å®šçš„ç±»å‹æ˜¯ä¸€æ ·çš„ã€‚</strong><ul>
<li>åœ¨mapper.javaæŒ‡å®šçš„æ–¹æ³•è¿”å›å€¼ç±»å‹ä¸ä¸€æ ·ï¼š<ul>
<li>1ã€è¾“å‡ºå•ä¸ªpojoå¯¹è±¡ï¼Œæ–¹æ³•è¿”å›å€¼æ˜¯å•ä¸ªå¯¹è±¡ç±»å‹</li>
<li>2ã€è¾“å‡ºpojoå¯¹è±¡listï¼Œæ–¹æ³•è¿”å›å€¼æ˜¯List&lt;ç®€å•javaå¯¹è±¡&gt;<br><img src="https://img-blog.csdn.net/20180424213406417?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L1NvbmdfSmlhbmdUYW8=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70" alt="è¿™é‡Œå†™å›¾ç‰‡æè¿°"></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li><p><strong>äºŒã€resultMap</strong></p>
<ul>
<li>mybatisä¸­ä½¿ç”¨resultMapå®Œæˆé«˜çº§è¾“å‡ºç»“æœæ˜ å°„ã€‚</li>
<li>å®ä¾‹ï¼š<ul>
<li>1ã€åœ¨usermapper.xmlå®šä¹‰resultMap<br><img src="https://img-blog.csdn.net/20180425194135238?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L1NvbmdfSmlhbmdUYW8=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70" alt="è¿™é‡Œå†™å›¾ç‰‡æè¿°"></li>
<li>2ã€åœ¨usermapper.xmlä¸­å®šä¹‰æŸ¥è¯¢<br><img src="https://img-blog.csdn.net/20180425194250260?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L1NvbmdfSmlhbmdUYW8=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70" alt="è¿™é‡Œå†™å›¾ç‰‡æè¿°"></li>
<li>3ã€åœ¨usermapper.javaä¸­å®šä¹‰æ–¹æ³•<br><img src="https://img-blog.csdn.net/20180425194544579?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L1NvbmdfSmlhbmdUYW8=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70" alt="è¿™é‡Œå†™å›¾ç‰‡æè¿°"></li>
<li>4ã€ç¼–å†™æµ‹è¯•æ–¹æ³•<br><img src="https://img-blog.csdn.net/20180425194356425?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L1NvbmdfSmlhbmdUYW8=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70" alt="è¿™é‡Œå†™å›¾ç‰‡æè¿°"></li>
<li>5ã€æµ‹è¯•ç»“æœ<br><img src="https://img-blog.csdn.net/20180425194439135?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L1NvbmdfSmlhbmdUYW8=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70" alt="è¿™é‡Œå†™å›¾ç‰‡æè¿°"></li>
<li><strong>6ã€æ€»ç»“</strong><ul>
<li><strong>ä½¿ç”¨resultTypeè¿›è¡Œè¾“å‡ºæ˜ å°„ï¼Œåªæœ‰æŸ¥è¯¢å‡ºæ¥çš„åˆ—åå’Œpojoä¸­çš„å±æ€§åä¸€è‡´ï¼Œè¯¥åˆ—æ‰å¯ä»¥æ˜ å°„æˆåŠŸ</strong>ã€‚</li>
<li><strong>å¦‚æœæŸ¥è¯¢å‡ºæ¥çš„åˆ—åå’Œpojoçš„å±æ€§åä¸ä¸€è‡´ï¼Œé€šè¿‡å®šä¹‰ä¸€ä¸ªresultMapå¯¹åˆ—åå’Œpojoå±æ€§åä¹‹é—´ä½œä¸€ä¸ªæ˜ å°„å…³ç³»ã€‚</strong></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<h2 id="7ã€Mybatisçš„åŠ¨æ€sql-æŒæ¡"><a href="#7ã€Mybatisçš„åŠ¨æ€sql-æŒæ¡" class="headerlink" title="7ã€Mybatisçš„åŠ¨æ€sql(æŒæ¡)"></a>7ã€Mybatisçš„åŠ¨æ€sql(æŒæ¡)</h2><ul>
<li>ä»€ä¹ˆæ˜¯åŠ¨æ€sqlï¼Ÿ<ul>
<li>mybatisæ ¸å¿ƒ å¯¹sqlè¯­å¥è¿›è¡Œçµæ´»æ“ä½œï¼Œé€šè¿‡è¡¨è¾¾å¼è¿›è¡Œåˆ¤æ–­ï¼Œå¯¹sqlè¿›è¡Œçµæ´»æ‹¼æ¥ã€ç»„è£…ã€‚</li>
<li>åœ¨åŸæ¥çš„usermapper.xmlä¸­ä¿®æ”¹<strong>ç”¨æˆ·ç»¼åˆæŸ¥è¯¢æ€»æ•°</strong>ä¸ºä¸‹é¢ä»£ç <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">	 &lt;!--ç”¨æˆ·ç»¼åˆæŸ¥è¯¢æ€»æ•°--&gt;</span><br><span class="line">    &lt;select id=&quot;findUserCount&quot; parameterType=&quot;com.nuc.mybatis.po.UserQueryVo&quot;</span><br><span class="line">            resultType=&quot;int&quot;&gt;</span><br><span class="line">        select count(*) from user</span><br><span class="line">        &lt;!--whereå¯ä»¥è‡ªåŠ¨å»æ‰ç¬¬ä¸€ä¸ªand--&gt;</span><br><span class="line">        &lt;where&gt;</span><br><span class="line">            &lt;if test=&quot;userCustom!=null&quot;&gt;</span><br><span class="line">                &lt;if test=&quot;userCustom.sex!=null and userCustom.sex!=&apos;&apos;&quot;&gt;</span><br><span class="line">                    and user.sex=#&#123;userCustom.sex&#125;</span><br><span class="line">                &lt;/if&gt;</span><br><span class="line">                &lt;if test=&quot;userCustom.username!=null and userCustom.username!=&apos;&apos;&quot;&gt;</span><br><span class="line">                    and user.username=#&#123;userCustom.username&#125;</span><br><span class="line">                &lt;/if&gt;</span><br><span class="line">            &lt;/if&gt;</span><br><span class="line">        &lt;/where&gt;</span><br><span class="line">    &lt;/select&gt;</span><br><span class="line">```	 </span><br><span class="line"> </span><br><span class="line">   - ä¿®æ”¹æµ‹è¯•ç±»åŠæµ‹è¯•ç»“æœ</span><br><span class="line">   ![è¿™é‡Œå†™å›¾ç‰‡æè¿°](https://img-blog.csdn.net/20180425200925731?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L1NvbmdfSmlhbmdUYW8=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70)</span><br><span class="line">   - **sqlç‰‡æ®µ**</span><br><span class="line">	   - å°†ä¸Šè¾¹å®ç°çš„åŠ¨æ€sqlåˆ¤æ–­ä»£ç å—æŠ½å–å‡ºæ¥ï¼Œç»„æˆä¸€ä¸ªsqlç‰‡æ®µã€‚å…¶å®ƒçš„statementä¸­å°±å¯ä»¥å¼•ç”¨sqlç‰‡æ®µã€‚æ–¹ä¾¿ç¨‹åºå‘˜è¿›è¡Œå¼€å‘</span><br><span class="line">	   - å…ˆåœ¨mapper.xmlä¸­å®šä¹‰ä¸€ä¸ªsqlç‰‡æ®µ</span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
</ul>
<!--sqlç‰‡æ®µ
    ç»éªŒï¼šåŸºäºå•è¡¨æ¥å®šä¹‰sqlç‰‡æ®µï¼Œè¿™æ ·ï¼Œsqlç‰‡æ®µçš„å¯é‡ç”¨åº¦å°±é«˜
    åœ¨sqlç‰‡æ®µä¸­ä¸è¦ç”¨whereï¼Œå› ä¸ºä½ å¾ˆæœ‰å¯èƒ½æŸ¥è¯¢æ¡ä»¶ä¸æ­¢ä¸€ä¸ª
    -->
<pre><code>&lt;sql id=&quot;Query_user&quot;&gt;
    &lt;if test=&quot;userCustom!=null&quot;&gt;
        &lt;if test=&quot;userCustom.sex!=null and userCustom.sex!=&apos;&apos;&quot;&gt;
            and user.sex=#{userCustom.sex}
        &lt;/if&gt;
        &lt;if test=&quot;userCustom.username!=null and userCustom.username!=&apos;&apos;&quot;&gt;
            and user.username=#{userCustom.username}
        &lt;/if&gt;
    &lt;/if&gt;
&lt;/sql&gt;
</code></pre><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">- å°†ä¹‹å‰çš„sqlè¯­å¥ä¿®æ”¹å¦‚ä¸‹ï¼š</span><br></pre></td></tr></table></figure>
<!--ç”¨æˆ·ç»¼åˆæŸ¥è¯¢æ€»æ•°-->
<pre><code>&lt;select id=&quot;findUserCount&quot; parameterType=&quot;com.nuc.mybatis.po.UserQueryVo&quot;
        resultType=&quot;int&quot;&gt;
    select count(*) from user
    &lt;!--whereå¯ä»¥è‡ªåŠ¨å»æ‰ç¬¬ä¸€ä¸ªand--&gt;
    &lt;where&gt;
        &lt;!--å¼•ç”¨sqlçš„idï¼Œå¦‚æœrefidå¼•ç”¨çš„sqlçš„idä¸åœ¨æœ¬mapperä¸­ï¼Œåˆ™éœ€è¦å®¶å…¶ä»–mapperçš„namespace--&gt;
        &lt;include refid=&quot;Query_user&quot;/&gt;
    &lt;/where&gt;
&lt;/select&gt;
</code></pre><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">- æµ‹è¯•å’Œä¹‹å‰çš„ä¸€æ · </span><br><span class="line">- **foreach**</span><br><span class="line">	- å‘sqlä¼ é€’æ•°ç»„æˆ–Listï¼Œmybatisä½¿ç”¨foreachè§£æ</span><br><span class="line">	- åœ¨ç”¨æˆ·æŸ¥è¯¢åˆ—è¡¨å’ŒæŸ¥è¯¢æ€»æ•°çš„statementä¸­å¢åŠ å¤šä¸ªidè¾“å…¥æŸ¥è¯¢ã€‚å³å®ç°**SELECT * FROM USER WHERE id=1 OR id=10 OR id=16**</span><br><span class="line">	- å…ˆä¿®æ”¹sql</span><br></pre></td></tr></table></figure>
<p><sql id="Query_user"><br>        <if test="userCustom!=null"><br>            <if test="userCustom.sex!=null and userCustom.sex!=''"><br>                and user.sex=#{userCustom.sex}<br>            </if><br>            <if test="userCustom.username!=null and userCustom.username!=''"><br>                and user.username=#{userCustom.username}<br>            </if><br>        </if><br>        <if test="ids!=null"><br>            <!--
                collection:æŒ‡å®šè¾“å…¥å¯¹è±¡é›†åˆä¸­çš„å±æ€§
                itemï¼šæ¯æ¬¡éå†ç”Ÿæˆçš„å¯¹è±¡å
                openï¼šå¼€å§‹éå†æ‹¼æ¥çš„ä¸²
                closeï¼šç»“æŸæ—¶æ‹¼æ¥çš„ä¸²
                separatorï¼šæ¯ä¸ªå¯¹è±¡çš„ä¸­é—´æ‹¼æ¥çš„ä¸²
                æˆ‘ä»¬è¦å®ç° and(id=1 OR id=10 OR id=16)
            --><br>            <foreach collection="ids" item="user_id" open="and(" close=")" separator="OR"><br>              <!--æ¯æ¬¡éå†æ‹¼æ¥çš„ä¸²--><br>                id=#{user_id}<br>            </foreach><br>        </if><br>    </sql><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">- æ·»åŠ å±æ€§ï¼ŒåŠå…¶get set æ–¹æ³•</span><br><span class="line">![è¿™é‡Œå†™å›¾ç‰‡æè¿°](https://img-blog.csdn.net/20180425210223554?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L1NvbmdfSmlhbmdUYW8=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70)</span><br><span class="line">- ä¿®æ”¹æµ‹è¯•ç±»</span><br></pre></td></tr></table></figure></p>
<p>//    ç”¨æˆ·ç»¼åˆæŸ¥è¯¢æ€»æ•°<br>@Test<br>    public void testFindUser() throws Exception{<br>        SqlSession sqlSession = sqlSessionFactory.openSession();<br>        //åˆ›å»ºUserMapperçš„å¯¹è±¡,mybatisCountè‡ªåŠ¨è°ƒç”¨<br>        UserMapper userMapper = sqlSession.getMapper(UserMapper.class);<br>        //åˆ›å»ºåŒ…å¯¹è±¡ï¼Œè®¾ç½®æŸ¥è¯¢æ¡ä»¶<br>        UserQueryVo userQueryVo = new UserQueryVo();<br>        UserCustom userCustom = new UserCustom();<br>//        ç”±äºè¿™é‡Œä½¿ç”¨åŠ¨æ€sqlæ‰€ä»¥ä¸è®¾ç½®æŸä¸ªå€¼ï¼Œå°±ä¸ä¼šæ‹¼æ¥åœ¨sqlè¯­å¥ä¸­<br>//        userCustom.setSex(â€œ1â€);<br>        userCustom.setUsername(â€œå°æ˜â€);<br>        List<integer> list = new ArrayList&lt;&gt;();<br>        list.add(1);<br>        list.add(10);<br>        list.add(16);<br>        userQueryVo.setIds(list);<br>        userQueryVo.setUserCustom(userCustom);<br>        int count= userMapper.findUserCount(userQueryVo);<br>        System.out.println(count);<br>    }<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br></pre></td><td class="code"><pre><span class="line"> - æµ‹è¯•ç»“æœ</span><br><span class="line"> ![è¿™é‡Œå†™å›¾ç‰‡æè¿°](https://img-blog.csdn.net/2018042521031361?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L1NvbmdfSmlhbmdUYW8=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70)</span><br><span class="line"> sqlè¯­å¥æˆåŠŸä¿®æ”¹ï¼</span><br><span class="line"></span><br><span class="line">## 8ã€è®¢å•å•†å“æ•°æ®æ¨¡å‹åˆ†æ</span><br><span class="line">- **æ•°æ®æ¨¡å‹åˆ†ææ€è·¯**</span><br><span class="line">	- **1ã€æ¯å¼ è¡¨è®°å½•çš„æ•°æ®å†…å®¹**</span><br><span class="line">		- åˆ†æ¨¡å—å¯¹æ¯å¼ è¡¨è®°å½•çš„å†…å®¹è¿›è¡Œç†Ÿæ‚‰ï¼Œç›¸å½“ äºä½ å­¦ä¹ ç³»ç»Ÿ éœ€æ±‚ï¼ˆåŠŸèƒ½ï¼‰çš„è¿‡ç¨‹</span><br><span class="line">	- **2ã€æ¯å¼ è¡¨é‡è¦çš„å­—æ®µè®¾ç½®**</span><br><span class="line">		- éç©ºå­—æ®µã€å¤–é”®å­—æ®µ</span><br><span class="line"> - **3ã€æ•°æ®åº“çº§åˆ«è¡¨ä¸è¡¨ä¹‹é—´çš„å…³ç³»**</span><br><span class="line">	 - å¤–é”®å…³ç³»</span><br><span class="line"> - **4ã€è¡¨ä¸è¡¨ä¹‹é—´çš„ä¸šåŠ¡å…³ç³»**</span><br><span class="line">	 - åœ¨åˆ†æè¡¨ä¸è¡¨ä¹‹é—´çš„ä¸šåŠ¡å…³ç³»æ—¶ä¸€å®šè¦å»ºç«‹ **åœ¨æŸä¸ªä¸šåŠ¡æ„ä¹‰åŸºç¡€ä¸Šå»åˆ†æã€‚**</span><br><span class="line">	 </span><br><span class="line">	ä¸‹æ¥æ‹¿ä¹‹å‰çš„æ•°æ®åº“çš„è¡¨ä¸ºä¾‹ï¼Œå…·ä½“å­—æ®µä¸ä½œè¯´æ˜</span><br><span class="line">	![è¿™é‡Œå†™å›¾ç‰‡æè¿°](https://img-blog.csdn.net/20180426195542490?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L1NvbmdfSmlhbmdUYW8=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70)</span><br><span class="line">	æ ¹æ®ä¸Šé¢çš„æ­¥éª¤ã€‚</span><br><span class="line">	**ç¬¬ä¸€æ­¥ï¼šæ¯å¼ è¡¨è®°å½•çš„æ•°æ®å†…å®¹**</span><br><span class="line">	- ç”¨æˆ·è¡¨userï¼šè®°å½•äº†è´­ä¹°å•†å“çš„ç”¨æˆ·ä¿¡æ¯</span><br><span class="line">	- è®¢å•è¡¨ï¼šordersï¼šè®°å½•äº†ç”¨æˆ·æ‰€åˆ›å»ºçš„è®¢å•ï¼ˆè´­ä¹°å•†å“çš„è®¢å•ï¼‰</span><br><span class="line">	- è®¢å•æ˜ç»†è¡¨ï¼šorderdetailï¼šè®°å½•äº†è®¢å•çš„è¯¦ç»†ä¿¡æ¯å³è´­ä¹°å•†å“çš„ä¿¡æ¯</span><br><span class="line">	- å•†å“è¡¨ï¼šitemsï¼šè®°å½•äº†å•†å“ä¿¡æ¯</span><br><span class="line">   </span><br><span class="line">   **ç¬¬äºŒæ­¥ï¼šæ¯å¼ è¡¨é‡è¦çš„å­—æ®µè®¾ç½®**</span><br><span class="line">   **ç¬¬ä¸‰æ­¥ï¼šæ•°æ®åº“çº§åˆ«è¡¨ä¸è¡¨ä¹‹é—´çš„å…³ç³»**</span><br><span class="line">   - è¡¨ä¸è¡¨ä¹‹é—´çš„ä¸šåŠ¡å…³ç³»ï¼šåœ¨åˆ†æè¡¨ä¸è¡¨ä¹‹é—´çš„ä¸šåŠ¡å…³ç³»æ—¶éœ€è¦å»ºç«‹ **åœ¨æŸä¸ªä¸šåŠ¡æ„ä¹‰åŸºç¡€ä¸Šå»åˆ†æã€‚**</span><br><span class="line">  </span><br><span class="line">  å…ˆåˆ†ææ•°æ®åº“çº§åˆ«ä¹‹é—´æœ‰å…³ç³»çš„è¡¨ä¹‹é—´çš„ä¸šåŠ¡å…³ç³»ï¼š</span><br><span class="line">	- usreå’Œordersï¼š</span><br><span class="line">		- user---&gt;ordersï¼šä¸€ä¸ªç”¨æˆ·å¯ä»¥åˆ›å»ºå¤šä¸ªè®¢å•ï¼Œä¸€å¯¹å¤š</span><br><span class="line">		- orders---&gt;userï¼šä¸€ä¸ªè®¢å•åªç”±ä¸€ä¸ªç”¨æˆ·åˆ›å»ºï¼Œä¸€å¯¹ä¸€</span><br><span class="line"></span><br><span class="line">	- orderså’Œorderdetailï¼š</span><br><span class="line">		- orders---&gt;orderdetailï¼šä¸€ä¸ªè®¢å•å¯ä»¥åŒ…æ‹¬ å¤šä¸ªè®¢å•æ˜ç»†ï¼Œå› ä¸ºä¸€ä¸ªè®¢å•å¯ä»¥è´­ä¹°å¤šä¸ªå•†å“ï¼Œæ¯ä¸ªå•†å“çš„è´­ä¹°ä¿¡æ¯åœ¨orderdetailè®°å½•ï¼Œä¸€å¯¹å¤š</span><br><span class="line">		- orderdetail---&gt; ordersï¼šä¸€ä¸ªè®¢å•æ˜ç»†åªèƒ½åŒ…æ‹¬åœ¨ä¸€ä¸ªè®¢å•ä¸­ï¼Œä¸€å¯¹ä¸€</span><br><span class="line">	- orderdetailå’Œitesmï¼š</span><br><span class="line">		- orderdetail---&gt;itesmsï¼šä¸€ä¸ªè®¢å•æ˜ç»†åªå¯¹åº”ä¸€ä¸ªå•†å“ä¿¡æ¯ï¼Œä¸€å¯¹ä¸€</span><br><span class="line">		- items--&gt; orderdetail:ä¸€ä¸ªå•†å“å¯ä»¥åŒ…æ‹¬åœ¨å¤šä¸ªè®¢å•æ˜ç»† ï¼Œä¸€å¯¹å¤š</span><br><span class="line"></span><br><span class="line"> **ç¬¬å››æ­¥ï¼šè¡¨ä¸è¡¨ä¹‹é—´çš„ä¸šåŠ¡å…³ç³»**</span><br><span class="line"> - å†åˆ†ææ•°æ®åº“çº§åˆ«æ²¡æœ‰å…³ç³»çš„è¡¨ä¹‹é—´æ˜¯å¦æœ‰ä¸šåŠ¡å…³ç³»ï¼š</span><br><span class="line">		- orderså’Œitemsï¼š</span><br><span class="line">			- orderså’Œitemsä¹‹é—´å¯ä»¥é€šè¿‡orderdetailè¡¨å»ºç«‹ å…³ç³»ã€‚</span><br><span class="line">	</span><br><span class="line">	![è¿™é‡Œå†™å›¾ç‰‡æè¿°](https://img-blog.csdn.net/20180426200315989?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L1NvbmdfSmlhbmdUYW8=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70)</span><br><span class="line"></span><br><span class="line">## 9ã€é«˜çº§ç»“æœé›†æ˜ å°„</span><br><span class="line"> - ä¸€å¯¹ä¸€</span><br><span class="line"> **éœ€æ±‚ï¼šæŸ¥è¯¢è®¢å•ä¿¡æ¯ï¼Œå…³è”æŸ¥è¯¢åˆ›å»ºè®¢å•çš„ç”¨æˆ·ä¿¡æ¯**</span><br><span class="line"></span><br><span class="line"> **åˆ†æï¼š**</span><br><span class="line">	 - ç¡®å®šæŸ¥è¯¢çš„ä¸»è¡¨ï¼šè®¢å•è¡¨</span><br><span class="line">	 - ç¡®å®šæŸ¥è¯¢çš„å…³è”è¡¨ï¼šç”¨æˆ·è¡¨</span><br><span class="line">	 - å…³è”æŸ¥è¯¢ä½¿ç”¨å†…é“¾æ¥ï¼Ÿè¿˜æ˜¯å¤–é“¾æ¥ï¼Ÿ</span><br><span class="line">	 - ç”±äºordersè¡¨ä¸­æœ‰ä¸€ä¸ªå¤–é”®ï¼ˆuser_idï¼‰ï¼Œé€šè¿‡å¤–é”®å…³è”æŸ¥è¯¢ç”¨æˆ·è¡¨åªèƒ½æŸ¥è¯¢å‡ºä¸€æ¡è®°å½•ï¼Œå¯ä»¥ä½¿ç”¨å†…é“¾æ¥ã€‚</span><br><span class="line">		</span><br><span class="line">		SELECT </span><br><span class="line">		  orders.*,</span><br><span class="line">		  USER.username,</span><br><span class="line">		  USER.sex,</span><br><span class="line">		  USER.address </span><br><span class="line">		FROM</span><br><span class="line">		  orders,</span><br><span class="line">		  USER </span><br><span class="line">		WHERE orders.user_id = user.id</span><br><span class="line">	 - 1ã€ç”¨**resultType**å®ç°</span><br><span class="line">		 - åœ¨poåŒ…ä¸­åˆ›å»ºï¼šOrdersç±»</span><br><span class="line">		 - åœ¨poåŒ…ä¸­åˆ›å»ºï¼šOrdersCustomç±»ç»§æ‰¿ Ordersç±»</span><br><span class="line">		 - åœ¨mapperåŒ…ä¸­åˆ›å»ºï¼šOrdersMapperCustomæ¥å£</span><br><span class="line">		 - åœ¨mapperåŒ…ä¸­åˆ›å»ºï¼šOrdersMapperCustom.xml</span><br><span class="line">		 - åœ¨teståŒ…ä¸­åˆ›å»ºï¼šOrdersMapperTestç±»</span><br><span class="line"></span><br><span class="line">**Orders.java**</span><br></pre></td></tr></table></figure></integer></p>
<p>package com.nuc.mybatis.po;</p>
<p>import java.util.Date;<br>import java.util.List;</p>
<p>public class Orders {<br>    private Integer id;</p>
<pre><code>private Integer userId;

private String number;

private Date createtime;

private String note;

//ç”¨æˆ·ä¿¡æ¯
private User user;

//è®¢å•æ˜ç»†
private List&lt;Orderdetail&gt; orderdetails;

public Integer getId() {
    return id;
}

public void setId(Integer id) {
    this.id = id;
}

public Integer getUserId() {
    return userId;
}

public void setUserId(Integer userId) {
    this.userId = userId;
}

public String getNumber() {
    return number;
}

public void setNumber(String number) {
    this.number = number == null ? null : number.trim();
}

public Date getCreatetime() {
    return createtime;
}

public void setCreatetime(Date createtime) {
    this.createtime = createtime;
}

public String getNote() {
    return note;
}

public void setNote(String note) {
    this.note = note == null ? null : note.trim();
}

public User getUser() {
    return user;
}

public void setUser(User user) {
    this.user = user;
}

public List&lt;Orderdetail&gt; getOrderdetails() {
    return orderdetails;
}

public void setOrderdetails(List&lt;Orderdetail&gt; orderdetails) {
    this.orderdetails = orderdetails;
}    
</code></pre><p>}<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">**OrdersCustom .java**</span><br></pre></td></tr></table></figure></p>
<p>package com.nuc.mybatis.po;</p>
<p>public class OrdersCustom extends Orders {<br>    private String username;<br>    private String sex;<br>    private String address;<br>    public String getUsername() {<br>        return username;<br>    }<br>    public void setUsername(String username) {<br>        this.username = username;<br>    }<br>    public String getSex() {<br>        return sex;<br>    }<br>    public void setSex(String sex) {<br>        this.sex = sex;<br>    }<br>    public String getAddress() {<br>        return address;<br>    }<br>    public void setAddress(String address) {<br>        this.address = address;<br>    }</p>
<p>}</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">**OrdersMapperCustom.java**</span><br></pre></td></tr></table></figure>
<p>package com.nuc.mybatis.mapper;</p>
<p>import java.util.List;</p>
<p>public interface OrdersMapperCustom {<br>    public List<ordersmappercustom> findOrdersUser()throws Exception;<br>}</ordersmappercustom></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">**OrdersMapperCustom .xml**</span><br></pre></td></tr></table></figure>
<p>&lt;?xml version=â€1.0â€ encoding=â€UTF-8â€ ?&gt;<br>&lt;!DOCTYPE mapper<br>        PUBLIC â€œ-//mybatis.org//DTD Mapper 3.0//ENâ€<br>        â€œ<a href="http://mybatis.org/dtd/mybatis-3-mapper.dtd&quot;&gt;" target="_blank" rel="noopener">http://mybatis.org/dtd/mybatis-3-mapper.dtd&quot;&gt;</a></p>
<mapper namespace="com.nuc.mybatis.mapper.OrdersMapperCustom"><br>    <!--resultType:è¿”å›å€¼çš„æ˜ å°„çš„pojoå¯¹è±¡--><br>    <select id="findOrdersUser" resulttype="com.nuc.mybatis.po.OrdersCustom"><br>      SELECT<br>      orders.*,<br>      user.username,<br>      user.sex,<br>      user.address<br>      FROM<br>      orders,<br>      user<br>      WHERE orders.user_id = user.id<br>    </select><br><br></mapper>

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">**OrdersMapperTest.java**</span><br></pre></td></tr></table></figure>
<p>package com.nuc.mybatis.test;</p>
<p>import com.nuc.mybatis.mapper.OrdersMapperCustom;<br>import org.apache.ibatis.io.Resources;<br>import org.apache.ibatis.session.SqlSession;<br>import org.apache.ibatis.session.SqlSessionFactory;<br>import org.apache.ibatis.session.SqlSessionFactoryBuilder;<br>import org.junit.Before;<br>import org.junit.Test;</p>
<p>import java.io.InputStream;<br>import java.util.List;</p>
<p>public class OrdersMapperTest {<br>    private SqlSessionFactory sqlSessionFactory;<br>    @Before<br>    public void setUp() throws Exception{<br>        String resource = â€œSqlMapConfig.xmlâ€;<br>        InputStream inputStream = Resources.getResourceAsStream(resource);<br>        //åˆ›å»ºä¼šè¯å·¥å‚<br>        sqlSessionFactory = new<br>                SqlSessionFactoryBuilder().build(inputStream);<br>    }<br>    @Test<br>    public void testFindOrdersUser() throws Exception {<br>        SqlSession sqlSession = sqlSessionFactory.openSession();<br>        // åˆ›å»ºä»£ç†å¯¹è±¡<br>        OrdersMapperCustom ordersMapperCustom = sqlSession<br>                .getMapper(OrdersMapperCustom.class);<br>        // è°ƒç”¨maperçš„æ–¹æ³•<br>        List<ordersmappercustom> list = ordersMapperCustom.findOrdersUser();<br>        System.out.println(list);<br>        sqlSession.close();<br>    }<br>}</ordersmappercustom></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">**æµ‹è¯•ç»“æœ**</span><br><span class="line">![è¿™é‡Œå†™å›¾ç‰‡æè¿°](https://img-blog.csdn.net/20180426212950456?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L1NvbmdfSmlhbmdUYW8=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70)</span><br><span class="line"></span><br><span class="line"> - 2ã€ç”¨**resultMap**å®ç°</span><br><span class="line">	 - å®ç°æ€è·¯ï¼šä½¿ç”¨resultMapå°†æŸ¥è¯¢ç»“æœä¸­çš„è®¢å•ä¿¡æ¯æ˜ å°„åˆ°Orderså¯¹è±¡ä¸­ï¼Œåœ¨ordersç±»ä¸­æ·»åŠ Userå±æ€§ï¼Œå°†å…³è”æŸ¥è¯¢å‡ºæ¥çš„ç”¨æˆ·ä¿¡æ¯æ˜ å°„åˆ°orderså¯¹è±¡ä¸­çš„userå±æ€§ä¸­ã€‚</span><br><span class="line">	  - ç¬¬ä¸€æ­¥ï¼šOrdersç±»ä¸­æ·»åŠ User çš„userå±æ€§ã€‚ä¸Šé¢çš„ä»£ç å·²ç»æ·»åŠ </span><br><span class="line">	  - ç¬¬äºŒæ­¥ï¼šmapper.xmlä¸­å®šä¹‰ResultMapåŠå…¶æŸ¥è¯¢</span><br><span class="line">	  - ç¬¬ä¸‰æ­¥ï¼šæ¥å£ä¸­å®šä¹‰ç›¸åº”çš„æ–¹æ³•</span><br><span class="line">	  - æœ€åæµ‹è¯•</span><br><span class="line"></span><br><span class="line">**ç¬¬ä¸‰æ­¥ï¼š**</span><br></pre></td></tr></table></figure>
<p><resultmap type="com.nuc.mybatis.po.Orders" id="OrdersUserResultMap"><br>        <!-- é…ç½®æ˜ å°„çš„è®¢å•ä¿¡æ¯ --><br>        <!-- idï¼šæŒ‡å®šæŸ¥è¯¢åˆ—ä¸­çš„å”¯ ä¸€æ ‡è¯†ï¼Œè®¢å•ä¿¡æ¯çš„ä¸­çš„å”¯ ä¸€æ ‡è¯†ï¼Œå¦‚æœæœ‰å¤šä¸ªåˆ—ç»„æˆå”¯ä¸€æ ‡è¯†ï¼Œé…ç½®å¤šä¸ªid
            columnï¼šè®¢å•ä¿¡æ¯çš„å”¯ ä¸€æ ‡è¯† åˆ—
            propertyï¼šè®¢å•ä¿¡æ¯çš„å”¯ ä¸€æ ‡è¯† åˆ—æ‰€æ˜ å°„åˆ°Ordersä¸­å“ªä¸ªå±æ€§
          --><br>        <id column="id" property="id"><br>        <result column="user_id" property="userId"><br>        <result column="number" property="number"><br>        <result column="createtime" property="createtime"><br>        <result column="note" property="note"><br>        <!-- é…ç½®æ˜ å°„çš„å…³è”çš„ç”¨æˆ·ä¿¡æ¯ --><br>        <!-- associationï¼šç”¨äºæ˜ å°„å…³è”æŸ¥è¯¢å•ä¸ªå¯¹è±¡çš„ä¿¡æ¯
        propertyï¼šè¦å°†å…³è”æŸ¥è¯¢çš„ç”¨æˆ·ä¿¡æ¯æ˜ å°„åˆ°Ordersä¸­å“ªä¸ªå±æ€§
         --><br>        <association property="user" javatype="com.nuc.mybatis.po.User"><br>            <!-- idï¼šå…³è”æŸ¥è¯¢ç”¨æˆ·çš„å”¯ ä¸€æ ‡è¯†
            columnï¼šæŒ‡å®šå”¯ ä¸€æ ‡è¯†ç”¨æˆ·ä¿¡æ¯çš„åˆ—
            javaTypeï¼šæ˜ å°„åˆ°userçš„å“ªä¸ªå±æ€§
             --><br>            <id column="user_id" property="id"><br>            <result column="username" property="username"><br>            <result column="sex" property="sex"><br>            <result column="address" property="address"><br>        </result></result></result></id></association><br>    </result></result></result></result></id></resultmap><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">```</span><br><span class="line">&lt;!-- æŸ¥è¯¢è®¢å•å…³è”æŸ¥è¯¢ç”¨æˆ·ä¿¡æ¯ï¼Œä½¿ç”¨resultmap --&gt;</span><br><span class="line">    &lt;select id=&quot;findOrdersUserResultMap&quot; resultMap=&quot;OrdersUserResultMap&quot;&gt;</span><br><span class="line">        SELECT</span><br><span class="line">        orders.*,</span><br><span class="line">        USER.username,</span><br><span class="line">        USER.sex,</span><br><span class="line">        USER.address</span><br><span class="line">        FROM</span><br><span class="line">        orders,</span><br><span class="line">        USER</span><br><span class="line">        WHERE orders.user_id = user.id</span><br><span class="line">    &lt;/select&gt;</span><br></pre></td></tr></table></figure></p>
<p><strong>ç¬¬å››æ­¥</strong><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">//æŸ¥è¯¢è®¢å•å…³è”æŸ¥è¯¢ç”¨æˆ·ä½¿ç”¨resultMap</span><br><span class="line">    public List&lt;Orders&gt; findOrdersUserResultMap()throws Exception;</span><br></pre></td></tr></table></figure></p>
<p><strong>æµ‹è¯•</strong><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">@Test</span><br><span class="line">public void testFindOrdersResultMap() throws Exception &#123;</span><br><span class="line">    SqlSession sqlSession = sqlSessionFactory.openSession();</span><br><span class="line">    // åˆ›å»ºä»£ç†å¯¹è±¡</span><br><span class="line">    OrdersMapperCustom ordersMapperCustom = sqlSession</span><br><span class="line">            .getMapper(OrdersMapperCustom.class);</span><br><span class="line">    // è°ƒç”¨maperçš„æ–¹æ³•</span><br><span class="line">    List&lt;Orders&gt; list = ordersMapperCustom.findOrdersUserResultMap();</span><br><span class="line">    System.out.println(list);</span><br><span class="line">    sqlSession.close();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p><strong>æ€»ç»“</strong></p>
<ul>
<li><p>resultTypeï¼šä½¿ç”¨resultTypeå®ç°è¾ƒä¸ºç®€å•ï¼Œå¦‚æœpojoä¸­æ²¡æœ‰åŒ…æ‹¬æŸ¥è¯¢å‡ºæ¥çš„åˆ—åï¼Œéœ€è¦å¢åŠ åˆ—åå¯¹åº”çš„å±æ€§ï¼Œå³å¯å®Œæˆæ˜ å°„ã€‚<strong>å¦‚æœæ²¡æœ‰æŸ¥è¯¢ç»“æœçš„ç‰¹æ®Šè¦æ±‚å»ºè®®ä½¿ç”¨resultTypeã€‚</strong></p>
</li>
<li><p>resultMapï¼šéœ€è¦å•ç‹¬å®šä¹‰resultMapï¼Œå®ç°æœ‰ç‚¹éº»çƒ¦ï¼Œå¦‚æœå¯¹æŸ¥è¯¢ç»“æœæœ‰ç‰¹æ®Šçš„è¦æ±‚ï¼Œä½¿ç”¨resultMapå¯ä»¥å®Œæˆå°†å…³è”æŸ¥è¯¢æ˜ å°„pojoçš„å±æ€§ä¸­ã€‚<strong>resultMapå¯ä»¥å®ç°å»¶è¿ŸåŠ è½½ï¼ŒresultTypeæ— æ³•å®ç°å»¶è¿ŸåŠ è½½ã€‚</strong></p>
</li>
</ul>
<ul>
<li><p>ä¸€å¯¹å¤š </p>
<ul>
<li><p>éœ€æ±‚ï¼šæŸ¥è¯¢è®¢å•åŠè®¢å•æ˜ç»†çš„ä¿¡æ¯ã€‚(æ ¹æ®æ•°æ®åº“æ¨¡å‹åˆ†æçš„ç»“æœæ¥æŸ¥è¯¢)</p>
<ul>
<li>ä½¿ç”¨resultMapï¼š<br><img src="https://img-blog.csdn.net/20180429162309692?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L1NvbmdfSmlhbmdUYW8=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70" alt="è¿™é‡Œå†™å›¾ç‰‡æè¿°"><br><strong>è¦æ±‚ï¼š</strong>å¯¹ordersæ˜ å°„ä¸èƒ½å‡ºç°é‡å¤è®°å½•ã€‚<br><strong>è§£å†³æ€è·¯ï¼š</strong></li>
<li>åœ¨orders.javaç±»ä¸­æ·»åŠ List&lt;&gt;,  orderDetailså±æ€§ã€‚</li>
<li>æœ€ç»ˆä¼šå°†è®¢å•ä¿¡æ¯æ˜ å°„åˆ°ordersä¸­ï¼Œè®¢å•æ‰€å¯¹åº”çš„è®¢å•æ˜ç»†æ˜ å°„åˆ°ordersä¸­çš„orderDetailså±æ€§ä¸­ã€‚</li>
<li>æ˜ å°„æˆçš„ordersè®°å½•æ•°ä¸ºä¸¤æ¡ï¼ˆordersä¿¡æ¯ä¸é‡å¤ï¼‰</li>
<li>æ¯ä¸ªordersä¸­çš„orderDetailså±æ€§å­˜å‚¨äº†è¯¥ è®¢å•æ‰€å¯¹åº”çš„è®¢å•æ˜ç»†</li>
</ul>
<p>æ·»åŠ å±æ€§åœ¨ä¹‹å‰å·²ç»å®ç°ï¼Œä¸”æ³¨é‡Šã€‚<br>åªéœ€è¦é…ç½®xmlæ–‡ä»¶å’Œæ¥å£ï¼Œå†™ä¸€ä¸ªæµ‹è¯•ç±»å³å¯</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line">&lt;!-- è®¢å•åŠè®¢å•æ˜ç»†çš„resultMap</span><br><span class="line">	ä½¿ç”¨extendsç»§æ‰¿ï¼Œä¸ç”¨åœ¨ä¸­é…ç½®è®¢å•ä¿¡æ¯å’Œç”¨æˆ·ä¿¡æ¯çš„æ˜ å°„</span><br><span class="line">	 --&gt;</span><br><span class="line">    &lt;resultMap type=&quot;com.nuc.mybatis.po.Orders&quot; id=&quot;OrdersAndOrderDetailResultMap&quot; extends=&quot;OrdersUserResultMap&quot;&gt;</span><br><span class="line">        &lt;!-- è®¢å•ä¿¡æ¯ --&gt;</span><br><span class="line">        &lt;!-- ç”¨æˆ·ä¿¡æ¯ --&gt;</span><br><span class="line">        &lt;!-- ä½¿ç”¨extendsç»§æ‰¿ï¼Œä¸ç”¨åœ¨ä¸­é…ç½®è®¢å•ä¿¡æ¯å’Œç”¨æˆ·ä¿¡æ¯çš„æ˜ å°„ --&gt;</span><br><span class="line">        </span><br><span class="line">        &lt;!-- è®¢å•æ˜ç»†ä¿¡æ¯</span><br><span class="line">        ä¸€ä¸ªè®¢å•å…³è”æŸ¥è¯¢å‡ºäº†å¤šæ¡æ˜ç»†ï¼Œè¦ä½¿ç”¨collectionè¿›è¡Œæ˜ å°„</span><br><span class="line">        collectionï¼šå¯¹å…³è”æŸ¥è¯¢åˆ°å¤šæ¡è®°å½•æ˜ å°„åˆ°é›†åˆå¯¹è±¡ä¸­</span><br><span class="line">        propertyï¼šå°†å…³è”æŸ¥è¯¢åˆ°å¤šæ¡è®°å½•æ˜ å°„åˆ°com.nuc.mybatis.po.Orderså“ªä¸ªå±æ€§</span><br><span class="line">        ofTypeï¼šæŒ‡å®šæ˜ å°„åˆ°listé›†åˆå±æ€§ä¸­pojoçš„ç±»å‹</span><br><span class="line">         --&gt;</span><br><span class="line">        &lt;collection property=&quot;orderdetails&quot; ofType=&quot;com.nuc.mybatis.po.Orderdetail&quot;&gt;</span><br><span class="line">            &lt;!-- idï¼šè®¢å•æ˜ç»†å”¯ ä¸€æ ‡è¯†</span><br><span class="line">            property:è¦å°†è®¢å•æ˜ç»†çš„å”¯ ä¸€æ ‡è¯† æ˜ å°„åˆ°com.nuc.mybatis.po.Orderdetailçš„å“ªä¸ªå±æ€§</span><br><span class="line">              --&gt;</span><br><span class="line">            &lt;id column=&quot;orderdetail_id&quot; property=&quot;id&quot;/&gt;</span><br><span class="line">            &lt;result column=&quot;items_id&quot; property=&quot;itemsId&quot;/&gt;</span><br><span class="line">            &lt;result column=&quot;items_num&quot; property=&quot;itemsNum&quot;/&gt;</span><br><span class="line">            &lt;result column=&quot;orders_id&quot; property=&quot;ordersId&quot;/&gt;</span><br><span class="line">        &lt;/collection&gt;</span><br><span class="line">    &lt;/resultMap&gt;</span><br><span class="line">    &lt;!-- æŸ¥è¯¢è®¢å•å…³è”æŸ¥è¯¢ç”¨æˆ·åŠè®¢å•æ˜ç»†ï¼Œä½¿ç”¨resultmap --&gt;</span><br><span class="line">    &lt;select id=&quot;findOrdersAndOrderDetailResultMap&quot; resultMap=&quot;OrdersAndOrderDetailResultMap&quot;&gt;</span><br><span class="line">        SELECT</span><br><span class="line">        orders.*,</span><br><span class="line">        USER.username,</span><br><span class="line">        USER.sex,</span><br><span class="line">        USER.address,</span><br><span class="line">        orderdetail.id orderdetail_id,</span><br><span class="line">        orderdetail.items_id,</span><br><span class="line">        orderdetail.items_num,</span><br><span class="line">        orderdetail.orders_id</span><br><span class="line">        FROM</span><br><span class="line">        orders,</span><br><span class="line">        USER,</span><br><span class="line">        orderdetail</span><br><span class="line">        WHERE orders.user_id = user.id AND orderdetail.orders_id=orders.id</span><br><span class="line">    &lt;/select&gt;</span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"> //æŸ¥è¯¢è®¢å•(å…³è”ç”¨æˆ·)åŠè®¢å•æ˜ç»†</span><br><span class="line">    public List&lt;Orders&gt; findOrdersAndOrderDetailResultMap() throws Exception;</span><br><span class="line">@Test</span><br><span class="line">    public void testfindOrdersAndOrderDetailResultMap() throws Exception &#123;</span><br><span class="line">        SqlSession sqlSession = sqlSessionFactory.openSession();</span><br><span class="line">        // åˆ›å»ºä»£ç†å¯¹è±¡</span><br><span class="line">        OrdersMapperCustom ordersMapperCustom = sqlSession</span><br><span class="line">                .getMapper(OrdersMapperCustom.class);</span><br><span class="line">        // è°ƒç”¨maperçš„æ–¹æ³•</span><br><span class="line">        List&lt;Orders&gt; list = ordersMapperCustom.findOrdersAndOrderDetailResultMap();</span><br><span class="line">        System.out.println(list);</span><br><span class="line">        sqlSession.close();</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>
<p><strong>æ€»ç»“ï¼š</strong></p>
<ul>
<li>mybatisä½¿ç”¨resultMapçš„collectionå¯¹å…³è”æŸ¥è¯¢çš„å¤šæ¡è®°å½•æ˜ å°„åˆ°ä¸€ä¸ªlisté›†åˆå±æ€§ä¸­ã€‚</li>
<li>ä½¿ç”¨resultTypeå®ç°ï¼šå°†è®¢å•æ˜ç»†æ˜ å°„åˆ°ordersä¸­çš„orderdetailsä¸­ï¼Œéœ€è¦è‡ªå·±å¤„ç†ï¼Œä½¿ç”¨åŒé‡å¾ªç¯éå†ï¼Œå»æ‰é‡å¤è®°å½•ï¼Œå°†è®¢å•æ˜ç»†æ”¾åœ¨orderdetailsä¸­ã€‚</li>
<li>å¤šå¯¹å¤š<ul>
<li><strong>éœ€æ±‚ï¼š</strong>æŸ¥è¯¢ç”¨æˆ·åŠç”¨æˆ·è´­ä¹°å•†å“ä¿¡æ¯ã€‚</li>
<li>sqlè¯­å¥<ul>
<li>æŸ¥è¯¢ä¸»è¡¨æ˜¯ï¼šç”¨æˆ·è¡¨</li>
<li>å…³è”è¡¨ï¼šç”±äºç”¨æˆ·å’Œå•†å“æ²¡æœ‰ç›´æ¥å…³è”ï¼Œé€šè¿‡è®¢å•å’Œè®¢å•æ˜ç»†è¿›è¡Œå…³è”ï¼Œæ‰€ä»¥å…³è”è¡¨ï¼šordersã€orderdetailã€items</li>
<li>SELECT<br>orders.*,<br>USER.username,<br>USER.sex,<br>USER.address,<br>orderdetail.id orderdetail_id,<br>orderdetail.items_id,<br>orderdetail.items_num,<br>orderdetail.orders_id,<br>items.name items_name,<br>items.detail items_detail,<br>items.price items_price<br>FROM<br>orders,<br>USER,<br>orderdetail,<br>items<br>WHERE orders.user_id = user.id AND orderdetail.orders_id=orders.id AND orderdetail.items_id = items.id</li>
</ul>
</li>
</ul>
</li>
</ul>
<ul>
<li><p>æ˜ å°„æ€è·¯</p>
<ul>
<li>å°†ç”¨æˆ·ä¿¡æ¯æ˜ å°„åˆ°userä¸­ã€‚</li>
<li>åœ¨userç±»ä¸­æ·»åŠ è®¢å•åˆ—è¡¨å±æ€§List<orders> orderslistï¼Œå°†ç”¨æˆ·åˆ›å»ºçš„è®¢å•æ˜ å°„åˆ°orderslist</orders></li>
<li>åœ¨Ordersä¸­æ·»åŠ è®¢å•æ˜ç»†åˆ—è¡¨å±æ€§List&lt;&gt;orderdetialsï¼Œå°†è®¢å•çš„æ˜ç»†æ˜ å°„åˆ°orderdetials</li>
<li>åœ¨OrderDetailä¸­æ·»åŠ Itemså±æ€§ï¼Œå°†è®¢å•æ˜ç»†æ‰€å¯¹åº”çš„å•†å“æ˜ å°„åˆ°Items</li>
</ul>
</li>
<li><p>mapper.xml</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">&lt;!-- æŸ¥è¯¢ç”¨æˆ·åŠè´­ä¹°çš„å•†å“ä¿¡æ¯ï¼Œä½¿ç”¨resultmap --&gt;</span><br><span class="line">&lt;select id=&quot;findUserAndItemsResultMap&quot; resultMap=&quot;UserAndItemsResultMap&quot;&gt;</span><br><span class="line">    SELECT</span><br><span class="line">    orders.*,</span><br><span class="line">    USER.username,</span><br><span class="line">    USER.sex,</span><br><span class="line">    USER.address,</span><br><span class="line">    orderdetail.id orderdetail_id,</span><br><span class="line">    orderdetail.items_id,</span><br><span class="line">    orderdetail.items_num,</span><br><span class="line">    orderdetail.orders_id,</span><br><span class="line">    items.name items_name,</span><br><span class="line">    items.detail items_detail,</span><br><span class="line">    items.price items_price</span><br><span class="line">    FROM</span><br><span class="line">    orders,</span><br><span class="line">    USER,</span><br><span class="line">    orderdetail,</span><br><span class="line">    items</span><br><span class="line">    WHERE orders.user_id = user.id AND orderdetail.orders_id=orders.id AND orderdetail.items_id = items.id</span><br><span class="line">&lt;/select&gt;</span><br></pre></td></tr></table></figure>
</li>
<li><p>resultMapå®šä¹‰</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line">&lt;!-- æŸ¥è¯¢ç”¨æˆ·åŠè´­ä¹°çš„å•†å“ --&gt;</span><br><span class="line"> &lt;resultMap type=&quot;com.nuc.mybatis.po.User&quot; id=&quot;UserAndItemsResultMap&quot;&gt;</span><br><span class="line">     &lt;!-- ç”¨æˆ·ä¿¡æ¯ --&gt;</span><br><span class="line">     &lt;id column=&quot;user_id&quot; property=&quot;id&quot;/&gt;</span><br><span class="line">     &lt;result column=&quot;username&quot; property=&quot;username&quot;/&gt;</span><br><span class="line">     &lt;result column=&quot;sex&quot; property=&quot;sex&quot;/&gt;</span><br><span class="line">     &lt;result column=&quot;address&quot; property=&quot;address&quot;/&gt;</span><br><span class="line"></span><br><span class="line">     &lt;!-- è®¢å•ä¿¡æ¯</span><br><span class="line">     ä¸€ä¸ªç”¨æˆ·å¯¹åº”å¤šä¸ªè®¢å•ï¼Œä½¿ç”¨collectionæ˜ å°„</span><br><span class="line">      --&gt;</span><br><span class="line">     &lt;collection property=&quot;ordersList&quot; ofType=&quot;com.nuc.mybatis.po.Orders&quot;&gt;</span><br><span class="line">         &lt;id column=&quot;id&quot; property=&quot;id&quot;/&gt;</span><br><span class="line">         &lt;result column=&quot;user_id&quot; property=&quot;userId&quot;/&gt;</span><br><span class="line">         &lt;result column=&quot;number&quot; property=&quot;number&quot;/&gt;</span><br><span class="line">         &lt;result column=&quot;createtime&quot; property=&quot;createtime&quot;/&gt;</span><br><span class="line">         &lt;result column=&quot;note&quot; property=&quot;note&quot;/&gt;</span><br><span class="line"></span><br><span class="line">         &lt;!-- è®¢å•æ˜ç»†</span><br><span class="line">     ä¸€ä¸ªè®¢å•åŒ…æ‹¬ å¤šä¸ªæ˜ç»†</span><br><span class="line">      --&gt;</span><br><span class="line">         &lt;collection property=&quot;orderdetails&quot; ofType=&quot;com.nuc.mybatis.po.Orderdetail&quot;&gt;</span><br><span class="line">             &lt;id column=&quot;orderdetail_id&quot; property=&quot;id&quot;/&gt;</span><br><span class="line">             &lt;result column=&quot;items_id&quot; property=&quot;itemsId&quot;/&gt;</span><br><span class="line">             &lt;result column=&quot;items_num&quot; property=&quot;itemsNum&quot;/&gt;</span><br><span class="line">             &lt;result column=&quot;orders_id&quot; property=&quot;ordersId&quot;/&gt;</span><br><span class="line">             &lt;!-- å•†å“ä¿¡æ¯</span><br><span class="line">      ä¸€ä¸ªè®¢å•æ˜ç»†å¯¹åº”ä¸€ä¸ªå•†å“</span><br><span class="line">       --&gt;</span><br><span class="line">             &lt;association property=&quot;items&quot; javaType=&quot;com.nuc.mybatis.po.Items&quot;&gt;</span><br><span class="line">                 &lt;id column=&quot;items_id&quot; property=&quot;id&quot;/&gt;</span><br><span class="line">                 &lt;result column=&quot;items_name&quot; property=&quot;name&quot;/&gt;</span><br><span class="line">                 &lt;result column=&quot;items_detail&quot; property=&quot;detail&quot;/&gt;</span><br><span class="line">                 &lt;result column=&quot;items_price&quot; property=&quot;price&quot;/&gt;</span><br><span class="line">             &lt;/association&gt;</span><br><span class="line">         &lt;/collection&gt;</span><br><span class="line">     &lt;/collection&gt;</span><br><span class="line"> &lt;/resultMap&gt;</span><br></pre></td></tr></table></figure>
</li>
<li><p>mapper.java</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">//æŸ¥è¯¢ç”¨æˆ·è´­ä¹°å•†å“ä¿¡æ¯</span><br><span class="line">   public List&lt;User&gt;  findUserAndItemsResultMap()throws Exception;</span><br></pre></td></tr></table></figure>
</li>
<li><p><strong>æµ‹è¯•</strong><br><img src="https://img-blog.csdn.net/20180429174426722?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L1NvbmdfSmlhbmdUYW8=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70" alt="è¿™é‡Œå†™å›¾ç‰‡æè¿°"></p>
<p><strong>å¤šå¯¹å¤šæŸ¥è¯¢æ€»ç»“</strong></p>
<ul>
<li>å°†æŸ¥è¯¢ç”¨æˆ·è´­ä¹°çš„å•†å“ä¿¡æ¯æ˜ç»†æ¸…å•ï¼Œï¼ˆç”¨æˆ·åã€ç”¨æˆ·åœ°å€ã€è´­ä¹°å•†å“åç§°ã€è´­ä¹°å•†å“æ—¶é—´ã€è´­ä¹°å•†å“æ•°é‡ï¼‰</li>
<li>é’ˆå¯¹ä¸Šè¾¹çš„éœ€æ±‚å°±ä½¿ç”¨resultTypeå°†æŸ¥è¯¢åˆ°çš„è®°å½•æ˜ å°„åˆ°ä¸€ä¸ªæ‰©å±•çš„pojoä¸­ï¼Œå¾ˆç®€å•å®ç°æ˜ç»†æ¸…å•çš„åŠŸèƒ½ã€‚</li>
<li>ä¸€å¯¹å¤šæ˜¯å¤šå¯¹å¤šçš„ç‰¹ä¾‹ï¼Œå¦‚ä¸‹éœ€æ±‚ï¼š<ul>
<li>æŸ¥è¯¢ç”¨æˆ·è´­ä¹°çš„å•†å“ä¿¡æ¯ï¼Œç”¨æˆ·å’Œå•†å“çš„å…³ç³»æ˜¯å¤šå¯¹å¤šå…³ç³»ã€‚<ul>
<li>éœ€æ±‚1ï¼šæŸ¥è¯¢å­—æ®µï¼šç”¨æˆ·è´¦å·ã€ç”¨æˆ·åç§°ã€ç”¨æˆ·æ€§åˆ«ã€å•†å“åç§°ã€å•†å“ä»·æ ¼(æœ€å¸¸è§)ä¼ä¸šå¼€å‘ä¸­å¸¸è§æ˜ç»†åˆ—è¡¨ï¼Œç”¨æˆ·è´­ä¹°å•†å“æ˜ç»†åˆ—è¡¨ï¼Œä½¿ç”¨resultTypeå°†ä¸Šè¾¹æŸ¥è¯¢åˆ—æ˜ å°„åˆ°pojoè¾“å‡ºã€‚</li>
<li>éœ€æ±‚2ï¼šæŸ¥è¯¢å­—æ®µï¼šç”¨æˆ·è´¦å·ã€ç”¨æˆ·åç§°ã€è´­ä¹°å•†å“æ•°é‡ã€å•†å“æ˜ç»†ï¼ˆé¼ æ ‡ç§»ä¸Šæ˜¾ç¤ºæ˜ç»†ï¼‰ä½¿ç”¨resultMapå°†ç”¨æˆ·è´­ä¹°çš„å•†å“æ˜ç»†åˆ—è¡¨æ˜ å°„åˆ°userå¯¹è±¡ä¸­ã€‚</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li><p>æ€»ç»“ï¼š<strong>ä½¿ç”¨resultMapæ˜¯é’ˆå¯¹é‚£äº›å¯¹æŸ¥è¯¢ç»“æœæ˜ å°„æœ‰ç‰¹æ®Šè¦æ±‚çš„åŠŸèƒ½ï¼Œæ¯”å¦‚ç‰¹æ®Šè¦æ±‚æ˜ å°„æˆlistä¸­åŒ…æ‹¬ å¤šä¸ªlist</strong></p>
</li>
<li><strong>resultMapæ€»ç»“</strong><ul>
<li>resultTypeï¼š<ul>
<li>ä½œç”¨:å°†æŸ¥è¯¢ç»“æœæŒ‰ç…§sqlåˆ—åpojoå±æ€§åä¸€è‡´æ€§æ˜ å°„åˆ°pojoä¸­ã€‚</li>
<li>åœºåˆï¼šå¸¸è§ä¸€äº›æ˜ç»†è®°å½•çš„å±•ç¤ºï¼Œæ¯”å¦‚ç”¨æˆ·è´­ä¹°å•†å“æ˜ç»†ï¼Œå°†å…³è”æŸ¥è¯¢ä¿¡æ¯å…¨éƒ¨å±•ç¤ºåœ¨é¡µé¢æ—¶ï¼Œæ­¤æ—¶å¯ç›´æ¥ä½¿ç”¨resultTypeå°†æ¯ä¸€æ¡è®°å½•æ˜ å°„åˆ°pojoä¸­ï¼Œåœ¨å‰ç«¯é¡µé¢éå†listï¼ˆlistä¸­æ˜¯pojoï¼‰å³å¯ã€‚</li>
</ul>
</li>
<li>resultMapï¼š<ul>
<li>ä½¿ç”¨associationå’Œcollectionå®Œæˆä¸€å¯¹ä¸€å’Œä¸€å¯¹å¤šé«˜çº§æ˜ å°„ï¼ˆå¯¹ç»“æœæœ‰ç‰¹æ®Šçš„æ˜ å°„è¦æ±‚ï¼‰ã€‚</li>
<li>associationï¼š<ul>
<li>ä½œç”¨ï¼šå°†å…³è”æŸ¥è¯¢ä¿¡æ¯æ˜ å°„åˆ°ä¸€ä¸ªpojoå¯¹è±¡ä¸­ã€‚</li>
<li>åœºåˆï¼šä¸ºäº†æ–¹ä¾¿æŸ¥è¯¢å…³è”ä¿¡æ¯å¯ä»¥ä½¿ç”¨associationå°†å…³è”è®¢å•ä¿¡æ¯æ˜ å°„ä¸ºç”¨æˆ·å¯¹è±¡çš„pojoå±æ€§ä¸­ï¼Œæ¯”å¦‚ï¼šæŸ¥è¯¢è®¢å•åŠå…³è”ç”¨æˆ·ä¿¡æ¯ã€‚</li>
<li><strong>ä½¿ç”¨resultTypeæ— æ³•å°†æŸ¥è¯¢ç»“æœæ˜ å°„åˆ°pojoå¯¹è±¡çš„pojoå±æ€§ä¸­ï¼Œæ ¹æ®å¯¹ç»“æœé›†æŸ¥è¯¢éå†çš„éœ€è¦é€‰æ‹©ä½¿ç”¨resultTypeè¿˜æ˜¯resultMapã€‚</strong></li>
</ul>
</li>
<li>collectionï¼š<ul>
<li>ä½œç”¨ï¼šå°†å…³è”æŸ¥è¯¢ä¿¡æ¯æ˜ å°„åˆ°ä¸€ä¸ªlisté›†åˆä¸­ã€‚</li>
<li>åœºåˆï¼šä¸ºäº†æ–¹ä¾¿æŸ¥è¯¢éå†å…³è”ä¿¡æ¯å¯ä»¥ä½¿ç”¨collectionå°†å…³è”ä¿¡æ¯æ˜ å°„åˆ°listé›†åˆä¸­ï¼Œæ¯”å¦‚ï¼šæŸ¥è¯¢ç”¨æˆ·æƒé™èŒƒå›´æ¨¡å—åŠæ¨¡å—ä¸‹çš„èœå•ï¼Œå¯ä½¿ç”¨collectionå°†æ¨¡å—æ˜ å°„åˆ°æ¨¡å—listä¸­ï¼Œå°†èœå•åˆ—è¡¨æ˜ å°„åˆ°æ¨¡å—å¯¹è±¡çš„èœå•listå±æ€§ä¸­ï¼Œè¿™æ ·çš„ä½œçš„ç›®çš„ä¹Ÿæ˜¯æ–¹ä¾¿å¯¹æŸ¥è¯¢ç»“æœé›†è¿›è¡Œéå†æŸ¥è¯¢ã€‚<strong>å¦‚æœä½¿ç”¨resultTypeæ— æ³•å°†æŸ¥è¯¢ç»“æœæ˜ å°„åˆ°listé›†åˆä¸­ã€‚</strong></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<h2 id="10ã€Mybatiså»¶è¿ŸåŠ è½½"><a href="#10ã€Mybatiså»¶è¿ŸåŠ è½½" class="headerlink" title="10ã€Mybatiså»¶è¿ŸåŠ è½½"></a>10ã€Mybatiså»¶è¿ŸåŠ è½½</h2><ul>
<li><p>resultMapå¯ä»¥å®ç°é«˜çº§æ˜ å°„ï¼ˆä½¿ç”¨associationã€collectionå®ç°ä¸€å¯¹ä¸€åŠä¸€å¯¹å¤šæ˜ å°„ï¼‰ï¼Œassociationã€collectionå…·å¤‡å»¶è¿ŸåŠ è½½åŠŸèƒ½ã€‚</p>
<ul>
<li>éœ€æ±‚ï¼šå¦‚æœæŸ¥è¯¢è®¢å•å¹¶ä¸”å…³è”æŸ¥è¯¢ç”¨æˆ·ä¿¡æ¯ã€‚å¦‚æœå…ˆæŸ¥è¯¢è®¢å•ä¿¡æ¯å³å¯æ»¡è¶³è¦æ±‚ï¼Œå½“æˆ‘ä»¬éœ€è¦æŸ¥è¯¢ç”¨æˆ·ä¿¡æ¯æ—¶å†æŸ¥è¯¢ç”¨æˆ·ä¿¡æ¯ã€‚æŠŠå¯¹ç”¨æˆ·ä¿¡æ¯çš„æŒ‰éœ€å»æŸ¥è¯¢å°±æ˜¯å»¶è¿ŸåŠ è½½ã€‚</li>
</ul>
</li>
<li><p>å»¶è¿ŸåŠ è½½ï¼šå…ˆä»å•è¡¨æŸ¥è¯¢ã€éœ€è¦æ—¶å†ä»å…³è”è¡¨å»å…³è”æŸ¥è¯¢ï¼Œå¤§å¤§æé«˜ æ•°æ®åº“æ€§èƒ½ï¼Œå› ä¸ºæŸ¥è¯¢å•è¡¨è¦æ¯”å…³è”æŸ¥è¯¢å¤šå¼ è¡¨é€Ÿåº¦è¦å¿«ã€‚</p>
</li>
<li><p>ä¸ä½¿ç”¨mybatisæä¾›çš„associationåŠcollectionä¸­çš„å»¶è¿ŸåŠ è½½åŠŸèƒ½ï¼Œå¦‚ä½•å®ç°å»¶è¿ŸåŠ è½½ï¼Ÿï¼Ÿ</p>
<ul>
<li><p>å®ç°æ–¹æ³•å¦‚ä¸‹ï¼š</p>
<ul>
<li>å®šä¹‰ä¸¤ä¸ªmapperæ–¹æ³•ï¼š<ul>
<li>1ã€æŸ¥è¯¢è®¢å•åˆ—è¡¨</li>
<li>2ã€æ ¹æ®ç”¨æˆ·idæŸ¥è¯¢ç”¨æˆ·ä¿¡æ¯<ul>
<li>å®ç°æ€è·¯ï¼šå…ˆå»æŸ¥è¯¢ç¬¬ä¸€ä¸ªmapperæ–¹æ³•ï¼Œè·å–è®¢å•ä¿¡æ¯åˆ—è¡¨ã€‚åœ¨ç¨‹åºä¸­ï¼ˆserviceï¼‰ï¼ŒæŒ‰éœ€å»è°ƒç”¨ç¬¬äºŒä¸ªmapperæ–¹æ³•å»æŸ¥è¯¢ç”¨æˆ·ä¿¡æ¯ã€‚</li>
</ul>
</li>
</ul>
</li>
</ul>
<p><strong>æ€»ä¹‹ï¼š</strong>ä½¿ç”¨å»¶è¿ŸåŠ è½½æ–¹æ³•ï¼Œå…ˆå»æŸ¥è¯¢ç®€å•çš„sqlï¼ˆæœ€å¥½å•è¡¨ï¼Œä¹Ÿå¯ä»¥å…³è”æŸ¥è¯¢ï¼‰ï¼Œå†å»æŒ‰éœ€è¦åŠ è½½å…³è”æŸ¥è¯¢çš„å…¶å®ƒä¿¡æ¯ã€‚</p>
</li>
</ul>
</li>
</ul>
<h2 id="11ã€MybatisæŸ¥è¯¢ç¼“å­˜"><a href="#11ã€MybatisæŸ¥è¯¢ç¼“å­˜" class="headerlink" title="11ã€MybatisæŸ¥è¯¢ç¼“å­˜"></a>11ã€MybatisæŸ¥è¯¢ç¼“å­˜</h2><ul>
<li>ä»€ä¹ˆæ˜¯æŸ¥è¯¢ç¼“å­˜ï¼Ÿ<ul>
<li>mybatisæä¾›æŸ¥è¯¢ç¼“å­˜ï¼Œç”¨äºå‡è½»æ•°æ®å‹åŠ›ï¼Œæé«˜æ•°æ®åº“æ€§èƒ½ã€‚</li>
</ul>
</li>
<li>ä¸ºä»€ä¹ˆè¦ç”¨ç¼“å­˜ï¼Ÿ<ul>
<li>å¦‚æœç¼“å­˜ä¸­æœ‰æ•°æ®å°±ä¸ç”¨ä»æ•°æ®åº“ä¸­è·å–ï¼Œå¤§å¤§æé«˜ç³»ç»Ÿæ€§èƒ½ã€‚</li>
</ul>
</li>
<li>mybaitsæä¾›ä¸€çº§ç¼“å­˜ï¼Œå’ŒäºŒçº§ç¼“å­˜ã€‚<br><img src="https://img-blog.csdn.net/20180502105143436?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L1NvbmdfSmlhbmdUYW8=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70" alt="è¿™é‡Œå†™å›¾ç‰‡æè¿°"></li>
<li><p>ä¸€çº§ç¼“å­˜</p>
<ul>
<li>ä¸€çº§ç¼“å­˜æ˜¯SqlSessionçº§åˆ«çš„ç¼“å­˜ã€‚åœ¨æ“ä½œæ•°æ®åº“æ—¶éœ€è¦æ„é€  sqlSessionå¯¹è±¡ï¼Œåœ¨å¯¹è±¡ä¸­æœ‰ä¸€ä¸ªæ•°æ®ç»“æ„ï¼ˆHashMapï¼‰ç”¨äºå­˜å‚¨ç¼“å­˜æ•°æ®ã€‚ä¸åŒçš„sqlSessionä¹‹é—´çš„ç¼“å­˜æ•°æ®åŒºåŸŸï¼ˆHashMapï¼‰æ˜¯äº’ç›¸ä¸å½±å“çš„ã€‚</li>
<li><p><strong>å·¥ä½œåŸç†</strong><br><img src="https://img-blog.csdn.net/2018050210531373?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L1NvbmdfSmlhbmdUYW8=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70" alt="è¿™é‡Œå†™å›¾ç‰‡æè¿°"></p>
<ul>
<li>ç¬¬ä¸€æ¬¡å‘èµ·æŸ¥è¯¢ç”¨æˆ·idä¸º1çš„ç”¨æˆ·ä¿¡æ¯ï¼Œå…ˆå»æ‰¾ç¼“å­˜ä¸­æ˜¯å¦æœ‰idä¸º1çš„ç”¨æˆ·ä¿¡æ¯ï¼Œå¦‚æœæ²¡æœ‰ï¼Œä»æ•°æ®åº“æŸ¥è¯¢ç”¨æˆ·ä¿¡æ¯ã€‚å¾—åˆ°ç”¨æˆ·ä¿¡æ¯ï¼Œå°†ç”¨æˆ·ä¿¡æ¯å­˜å‚¨åˆ°ä¸€çº§ç¼“å­˜ä¸­ã€‚</li>
<li>å¦‚æœsqlSessionå»æ‰§è¡Œcommitæ“ä½œï¼ˆæ‰§è¡Œæ’å…¥ã€æ›´æ–°ã€åˆ é™¤ï¼‰ï¼Œæ¸…ç©ºSqlSessionä¸­çš„ä¸€çº§ç¼“å­˜ï¼Œè¿™æ ·åšçš„ç›®çš„ä¸ºäº†è®©ç¼“å­˜ä¸­å­˜å‚¨çš„æ˜¯æœ€æ–°çš„ä¿¡æ¯ï¼Œé¿å…è„è¯»ã€‚</li>
<li>ç¬¬äºŒæ¬¡å‘èµ·æŸ¥è¯¢ç”¨æˆ·idä¸º1çš„ç”¨æˆ·ä¿¡æ¯ï¼Œå…ˆå»æ‰¾ç¼“å­˜ä¸­æ˜¯å¦æœ‰idä¸º1çš„ç”¨æˆ·ä¿¡æ¯ï¼Œç¼“å­˜ä¸­æœ‰ï¼Œç›´æ¥ä»ç¼“å­˜ä¸­è·å–ç”¨æˆ·ä¿¡æ¯ã€‚</li>
<li><p><strong>æµ‹è¯•ï¼š</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">//mybatisé»˜è®¤æ”¯æŒä¸€çº§ç¼“å­˜ï¼Œä¸éœ€è¦åœ¨é…ç½®æ–‡ä»¶å»é…ç½®ã€‚</span><br><span class="line">    @Test</span><br><span class="line">    public void testCache1() throws Exception&#123;</span><br><span class="line">        SqlSession sqlSession = sqlSessionFactory.openSession();//åˆ›å»ºä»£ç†å¯¹è±¡</span><br><span class="line">        UserMapper userMapper = sqlSession.getMapper(UserMapper.class);</span><br><span class="line">        //ä¸‹è¾¹æŸ¥è¯¢ä½¿ç”¨ä¸€ä¸ªSqlSession</span><br><span class="line">        //ç¬¬ä¸€æ¬¡å‘èµ·è¯·æ±‚ï¼ŒæŸ¥è¯¢idä¸º1çš„ç”¨æˆ·</span><br><span class="line">        User user1 = userMapper.findUserById(1);</span><br><span class="line">        System.out.println(user1);</span><br><span class="line">//		å¦‚æœsqlSessionå»æ‰§è¡Œcommitæ“ä½œï¼ˆæ‰§è¡Œæ’å…¥ã€æ›´æ–°ã€åˆ é™¤ï¼‰ï¼Œæ¸…ç©ºSqlSessionä¸­çš„ä¸€çº§ç¼“å­˜ï¼Œè¿™æ ·åšçš„ç›®çš„ä¸ºäº†è®©ç¼“å­˜ä¸­å­˜å‚¨çš„æ˜¯æœ€æ–°çš„ä¿¡æ¯ï¼Œé¿å…è„è¯»ã€‚</span><br><span class="line">        //æ›´æ–°user1çš„ä¿¡æ¯</span><br><span class="line">        user1.setUsername(&quot;æµ‹è¯•ç”¨æˆ·22&quot;);</span><br><span class="line">        userMapper.updateUser(user1);</span><br><span class="line">        //æ‰§è¡Œcommitæ“ä½œå»æ¸…ç©ºç¼“å­˜</span><br><span class="line">        sqlSession.commit();</span><br><span class="line">        //ç¬¬äºŒæ¬¡å‘èµ·è¯·æ±‚ï¼ŒæŸ¥è¯¢idä¸º1çš„ç”¨æˆ·</span><br><span class="line">        User user2 = userMapper.findUserById(1);</span><br><span class="line">        System.out.println(user2);</span><br><span class="line">        sqlSession.close();</span><br><span class="line"></span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>ä¸€çº§ç¼“å­˜åº”ç”¨</p>
<ul>
<li><p>æ­£å¼å¼€å‘ï¼Œæ˜¯å°†mybatiså’Œspringè¿›è¡Œæ•´åˆå¼€å‘ï¼Œäº‹åŠ¡æ§åˆ¶åœ¨serviceä¸­ã€‚<br>ä¸€ä¸ªserviceæ–¹æ³•ä¸­åŒ…æ‹¬ å¾ˆå¤šmapperæ–¹æ³•è°ƒç”¨ã€‚</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">service&#123;</span><br><span class="line">	//å¼€å§‹æ‰§è¡Œæ—¶ï¼Œå¼€å¯äº‹åŠ¡ï¼Œåˆ›å»ºSqlSessionå¯¹è±¡</span><br><span class="line">	//ç¬¬ä¸€æ¬¡è°ƒç”¨mapperçš„æ–¹æ³•findUserById(1)</span><br><span class="line">	</span><br><span class="line">	//ç¬¬äºŒæ¬¡è°ƒç”¨mapperçš„æ–¹æ³•findUserById(1)ï¼Œä»ä¸€çº§ç¼“å­˜ä¸­å–æ•°æ®</span><br><span class="line">	//æ–¹æ³•ç»“æŸï¼ŒsqlSessionå…³é—­</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<pre><code>å¦‚æœæ˜¯æ‰§è¡Œä¸¤ä¸ªserviceè°ƒç”¨æŸ¥è¯¢ç›¸åŒ çš„ç”¨æˆ·ä¿¡æ¯ï¼Œä¸èµ°ä¸€çº§ç¼“å­˜ï¼Œå› ä¸ºsessionæ–¹æ³•ç»“æŸï¼ŒsqlSessionå°±å…³é—­ï¼Œä¸€çº§ç¼“å­˜å°±æ¸…ç©ºã€‚
</code></pre></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li><p>äºŒçº§ç¼“å­˜</p>
<ul>
<li>äºŒçº§ç¼“å­˜æ˜¯mapperçº§åˆ«çš„ç¼“å­˜ï¼Œå¤šä¸ªSqlSessionå»æ“ä½œåŒä¸€ä¸ªMapperçš„sqlè¯­å¥ï¼Œå¤šä¸ªSqlSessionå¯ä»¥å…±ç”¨äºŒçº§ç¼“å­˜ï¼ŒäºŒçº§ç¼“å­˜æ˜¯è·¨SqlSessionçš„ã€‚</li>
<li>åŸç†<br>  <img src="https://img-blog.csdn.net/20180502112111808?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L1NvbmdfSmlhbmdUYW8=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70" alt="è¿™é‡Œå†™å›¾ç‰‡æè¿°"><ul>
<li>é¦–å…ˆå¼€å¯mybatisçš„äºŒçº§ç¼“å­˜ã€‚</li>
<li>sqlSession1å»æŸ¥è¯¢ç”¨æˆ·idä¸º1çš„ç”¨æˆ·ä¿¡æ¯ï¼ŒæŸ¥è¯¢åˆ°ç”¨æˆ·ä¿¡æ¯ä¼šå°†æŸ¥è¯¢æ•°æ®å­˜å‚¨åˆ°äºŒçº§ç¼“å­˜ä¸­ã€‚</li>
<li>å¦‚æœSqlSession3å»æ‰§è¡Œç›¸åŒ mapperä¸‹sqlï¼Œæ‰§è¡Œcommitæäº¤ï¼Œæ¸…ç©ºè¯¥ mapperä¸‹çš„äºŒçº§ç¼“å­˜åŒºåŸŸçš„æ•°æ®ã€‚</li>
<li>sqlSession2å»æŸ¥è¯¢ç”¨æˆ·idä¸º1çš„ç”¨æˆ·ä¿¡æ¯ï¼Œå»ç¼“å­˜ä¸­æ‰¾æ˜¯å¦å­˜åœ¨æ•°æ®ï¼Œå¦‚æœå­˜åœ¨ç›´æ¥ä»ç¼“å­˜ä¸­å–å‡ºæ•°æ®ã€‚</li>
<li>äºŒçº§ç¼“å­˜ä¸ä¸€çº§ç¼“å­˜åŒºåˆ«ï¼ŒäºŒçº§ç¼“å­˜çš„èŒƒå›´æ›´å¤§ï¼Œå¤šä¸ªsqlSessionå¯ä»¥å…±äº«ä¸€ä¸ªUserMapperçš„äºŒçº§ç¼“å­˜åŒºåŸŸã€‚</li>
<li>UserMapperæœ‰ä¸€ä¸ªäºŒçº§ç¼“å­˜åŒºåŸŸï¼ˆæŒ‰namespaceåˆ†ï¼‰ ï¼Œå…¶å®ƒmapperä¹Ÿæœ‰è‡ªå·±çš„äºŒçº§ç¼“å­˜åŒºåŸŸï¼ˆæŒ‰namespaceåˆ†ï¼‰ã€‚</li>
<li>æ¯ä¸€ä¸ªnamespaceçš„mapperéƒ½æœ‰ä¸€ä¸ªäºŒç¼“å­˜åŒºåŸŸï¼Œä¸¤ä¸ªmapperçš„namespaceå¦‚æœç›¸åŒï¼Œè¿™ä¸¤ä¸ªmapperæ‰§è¡ŒsqlæŸ¥è¯¢åˆ°æ•°æ®å°†å­˜åœ¨ç›¸åŒ çš„äºŒçº§ç¼“å­˜åŒºåŸŸä¸­ã€‚</li>
</ul>
</li>
<li><strong>å¼€å¯äºŒçº§ç¼“å­˜ï¼š</strong><ul>
<li>mybaitsçš„äºŒçº§ç¼“å­˜æ˜¯mapperèŒƒå›´çº§åˆ«ï¼Œé™¤äº†åœ¨SqlMapConfig.xmlè®¾ç½®äºŒçº§ç¼“å­˜çš„æ€»å¼€å…³ï¼Œè¿˜è¦åœ¨å…·ä½“çš„mapper.xmlä¸­å¼€å¯äºŒçº§ç¼“å­˜ã€‚<br><img src="https://img-blog.csdn.net/20180502115222752?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L1NvbmdfSmlhbmdUYW8=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70" alt="è¿™é‡Œå†™å›¾ç‰‡æè¿°"><br><img src="https://img-blog.csdn.net/20180502115232686?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L1NvbmdfSmlhbmdUYW8=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70" alt="è¿™é‡Œå†™å›¾ç‰‡æè¿°"></li>
</ul>
</li>
<li>è°ƒç”¨pojoç±»å®ç°åºåˆ—åŒ–æ¥å£<br><img src="https://img-blog.csdn.net/20180502115327122?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L1NvbmdfSmlhbmdUYW8=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70" alt="è¿™é‡Œå†™å›¾ç‰‡æè¿°"></li>
<li>æµ‹è¯•<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line">// äºŒçº§ç¼“å­˜æµ‹è¯•</span><br><span class="line">  @Test</span><br><span class="line">  public void testCache2() throws Exception &#123;</span><br><span class="line">      SqlSession sqlSession1 = sqlSessionFactory.openSession();</span><br><span class="line">      SqlSession sqlSession2 = sqlSessionFactory.openSession();</span><br><span class="line">      SqlSession sqlSession3 = sqlSessionFactory.openSession();</span><br><span class="line">      // åˆ›å»ºä»£ç†å¯¹è±¡</span><br><span class="line">      UserMapper userMapper1 = sqlSession1.getMapper(UserMapper.class);</span><br><span class="line">      // ç¬¬ä¸€æ¬¡å‘èµ·è¯·æ±‚ï¼ŒæŸ¥è¯¢idä¸º1çš„ç”¨æˆ·</span><br><span class="line">      User user1 = userMapper1.findUserById(1);</span><br><span class="line">      System.out.println(user1);</span><br><span class="line">	</span><br><span class="line">      //è¿™é‡Œæ‰§è¡Œå…³é—­æ“ä½œï¼Œå°†sqlsessionä¸­çš„æ•°æ®å†™åˆ°äºŒçº§ç¼“å­˜åŒºåŸŸ</span><br><span class="line">      sqlSession1.close();</span><br><span class="line">      </span><br><span class="line">      //ä½¿ç”¨sqlSession3æ‰§è¡Œcommit()æ“ä½œ</span><br><span class="line">      UserMapper userMapper3 = sqlSession3.getMapper(UserMapper.class);</span><br><span class="line">      User user  = userMapper3.findUserById(1);</span><br><span class="line">      user.setUsername(&quot;å¼ æ˜æ˜&quot;);</span><br><span class="line">      userMapper3.updateUser(user);</span><br><span class="line">      //æ‰§è¡Œæäº¤ï¼Œæ¸…ç©ºUserMapperä¸‹è¾¹çš„äºŒçº§ç¼“å­˜</span><br><span class="line">      sqlSession3.commit();</span><br><span class="line">      sqlSession3.close();</span><br><span class="line">	</span><br><span class="line">      UserMapper userMapper2 = sqlSession2.getMapper(UserMapper.class);</span><br><span class="line">      // ç¬¬äºŒæ¬¡å‘èµ·è¯·æ±‚ï¼ŒæŸ¥è¯¢idä¸º1çš„ç”¨æˆ·</span><br><span class="line">      User user2 = userMapper2.findUserById(1);</span><br><span class="line">      System.out.println(user2);</span><br><span class="line">	</span><br><span class="line">      sqlSession2.close();</span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
<li><p>useCacheé…ç½®</p>
<ul>
<li><p>åœ¨statementä¸­è®¾ç½®useCache=falseå¯ä»¥ç¦ç”¨å½“å‰selectè¯­å¥çš„äºŒçº§ç¼“å­˜ï¼Œå³æ¯æ¬¡æŸ¥è¯¢éƒ½ä¼šå‘å‡ºsqlå»æŸ¥è¯¢ï¼Œé»˜è®¤æƒ…å†µæ˜¯trueï¼Œå³è¯¥sqlä½¿ç”¨äºŒçº§ç¼“å­˜ã€‚</p>
<figure class="highlight plain"><figcaption><span>id</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">	**æ€»ç»“ï¼š**é’ˆå¯¹æ¯æ¬¡æŸ¥è¯¢éƒ½éœ€è¦æœ€æ–°çš„æ•°æ®sqlï¼Œè¦è®¾ç½®æˆuseCache=falseï¼Œç¦ç”¨äºŒçº§ç¼“å­˜ã€‚</span><br><span class="line"></span><br><span class="line"> - åˆ·æ–°ç¼“å­˜ï¼ˆå°±æ˜¯æ¸…ç©ºç¼“å­˜ï¼‰</span><br><span class="line">	 - åœ¨mapperçš„åŒä¸€ä¸ªnamespaceä¸­ï¼Œå¦‚æœæœ‰å…¶å®ƒinsertã€updateã€deleteæ“ä½œæ•°æ®åéœ€è¦åˆ·æ–°ç¼“å­˜ï¼Œå¦‚æœä¸æ‰§è¡Œåˆ·æ–°ç¼“å­˜ä¼šå‡ºç°è„è¯»ã€‚</span><br><span class="line">	 - è®¾ç½®statementé…ç½®ä¸­çš„flushCache=&quot;true&quot; å±æ€§ï¼Œé»˜è®¤æƒ…å†µä¸‹ä¸ºtrueå³åˆ·æ–°ç¼“å­˜ï¼Œå¦‚æœæ”¹æˆfalseåˆ™ä¸ä¼šåˆ·æ–°ã€‚ä½¿ç”¨ç¼“å­˜æ—¶å¦‚æœæ‰‹åŠ¨ä¿®æ”¹æ•°æ®åº“è¡¨ä¸­çš„æŸ¥è¯¢æ•°æ®ä¼šå‡ºç°è„è¯»ã€‚</span><br><span class="line">å¦‚ä¸‹ï¼š</span><br><span class="line">```&lt;insert id=&quot;insertUser&quot; parameterType=&quot;cn.itcast.mybatis.po.User&quot; flushCache=&quot;true&quot;&gt;</span><br></pre></td></tr></table></figure>
<p><strong>æ€»ç»“ï¼š</strong>ä¸€èˆ¬ä¸‹æ‰§è¡Œå®Œcommitæ“ä½œéƒ½éœ€è¦åˆ·æ–°ç¼“å­˜ï¼ŒflushCache=trueè¡¨ç¤ºåˆ·æ–°ç¼“å­˜ï¼Œè¿™æ ·å¯ä»¥é¿å…æ•°æ®åº“è„è¯»ã€‚</p>
</li>
</ul>
</li>
<li><p><strong>mybatisæ•´åˆehcache</strong></p>
<ul>
<li>ehcacheæ˜¯ä¸€ä¸ªåˆ†å¸ƒå¼ç¼“å­˜æ¡†æ¶ã€‚</li>
<li>åˆ†å¸ƒç¼“å­˜<ul>
<li>æˆ‘ä»¬ç³»ç»Ÿä¸ºäº†æé«˜ç³»ç»Ÿå¹¶å‘ï¼Œæ€§èƒ½ã€ä¸€èˆ¬å¯¹ç³»ç»Ÿè¿›è¡Œåˆ†å¸ƒå¼éƒ¨ç½²ï¼ˆé›†ç¾¤éƒ¨ç½²æ–¹å¼ï¼‰<br><img src="https://img-blog.csdn.net/20180502131052785?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L1NvbmdfSmlhbmdUYW8=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70" alt="è¿™é‡Œå†™å›¾ç‰‡æè¿°"></li>
</ul>
</li>
<li>ä¸ä½¿ç”¨åˆ†å¸ƒç¼“å­˜ï¼Œç¼“å­˜çš„æ•°æ®åœ¨å„å„æœåŠ¡å•ç‹¬å­˜å‚¨ï¼Œä¸æ–¹ä¾¿ç³»ç»Ÿ å¼€å‘ã€‚æ‰€ä»¥è¦<strong>ä½¿ç”¨åˆ†å¸ƒå¼ç¼“å­˜å¯¹ç¼“å­˜æ•°æ®è¿›è¡Œé›†ä¸­ç®¡ç†</strong></li>
<li><p>mybatisæ— æ³•å®ç°åˆ†å¸ƒå¼ç¼“å­˜ï¼Œéœ€è¦å’Œå…¶å®ƒåˆ†å¸ƒå¼ç¼“å­˜æ¡†æ¶è¿›è¡Œæ•´åˆã€‚</p>
<ul>
<li><p>æ•´åˆæ–¹æ³•ï¼ˆæŒæ¡ï¼‰ï¼š</p>
<ul>
<li>mybatisæä¾›äº†ä¸€ä¸ªcacheæ¥å£ï¼Œå¦‚æœè¦å®ç°è‡ªå·±çš„ç¼“å­˜é€»è¾‘ï¼Œå®ç°cacheæ¥å£å¼€å‘å³å¯ã€‚<strong>ä¾‹å¦‚ï¼š</strong> mybatiså’Œehcacheæ•´åˆï¼Œmybatiså’Œehcacheæ•´åˆåŒ…ä¸­æä¾›äº†ä¸€ä¸ªcacheæ¥å£çš„å®ç°ç±»ã€‚</li>
<li>åŠ å…¥ehcacheåŒ…<br><img src="https://img-blog.csdn.net/20180502132013592?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L1NvbmdfSmlhbmdUYW8=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70" alt="è¿™é‡Œå†™å›¾ç‰‡æè¿°"><br>è®°å¾—æ·»åŠ åˆ°class</li>
<li>é…ç½®mapperä¸­cacheä¸­çš„typeä¸ºehcacheå¯¹cacheæ¥å£çš„å®ç°ç±»å‹ã€‚<br><img src="https://img-blog.csdn.net/20180502133031610?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L1NvbmdfSmlhbmdUYW8=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70" alt="è¿™é‡Œå†™å›¾ç‰‡æè¿°"></li>
<li><p>åœ¨configç›®å½•ä¸‹åŠ å…¥ehcacheçš„é…ç½®æ–‡ä»¶</p>
 <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">&lt;ehcache xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span><br><span class="line">         xsi:noNamespaceSchemaLocation=&quot;../config/ehcache.xsd&quot;&gt;</span><br><span class="line">    &lt;defaultCache</span><br><span class="line">            maxElementsInMemory=&quot;1000&quot;</span><br><span class="line">            maxElementsOnDisk=&quot;10000000&quot;</span><br><span class="line">            eternal=&quot;false&quot;</span><br><span class="line">            overflowToDisk=&quot;false&quot;</span><br><span class="line">            timeToIdleSeconds=&quot;120&quot;</span><br><span class="line">            timeToLiveSeconds=&quot;120&quot;</span><br><span class="line">            diskExpiryThreadIntervalSeconds=&quot;120&quot;</span><br><span class="line">            memoryStoreEvictionPolicy=&quot;LRU&quot;&gt;</span><br><span class="line">    &lt;/defaultCache&gt;</span><br><span class="line">&lt;/ehcache&gt;</span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<ul>
<li><strong>äºŒçº§ç¼“å­˜åº”ç”¨åœºæ™¯:</strong><br>  å¯¹äºè®¿é—®å¤šçš„æŸ¥è¯¢è¯·æ±‚ä¸”ç”¨æˆ·å¯¹æŸ¥è¯¢ç»“æœå®æ—¶æ€§è¦æ±‚ä¸é«˜ï¼Œæ­¤æ—¶å¯é‡‡ç”¨mybatisäºŒçº§ç¼“å­˜æŠ€æœ¯é™ä½æ•°æ®åº“è®¿é—®é‡ï¼Œæé«˜è®¿é—®é€Ÿåº¦ï¼Œä¸šåŠ¡åœºæ™¯æ¯”å¦‚ï¼šè€—æ—¶è¾ƒé«˜çš„ç»Ÿè®¡åˆ†æsqlã€ç”µè¯è´¦å•æŸ¥è¯¢sqlç­‰ã€‚<br><strong>å®ç°æ–¹æ³•å¦‚ä¸‹ï¼š</strong>é€šè¿‡è®¾ç½®åˆ·æ–°é—´éš”æ—¶é—´ï¼Œç”±mybatisæ¯éš”ä¸€æ®µæ—¶é—´è‡ªåŠ¨æ¸…ç©ºç¼“å­˜ï¼Œæ ¹æ®æ•°æ®å˜åŒ–é¢‘ç‡è®¾ç½®ç¼“å­˜åˆ·æ–°é—´éš”flushIntervalï¼Œæ¯”å¦‚è®¾ç½®ä¸º30åˆ†é’Ÿã€60åˆ†é’Ÿã€24å°æ—¶ç­‰ï¼Œæ ¹æ®éœ€æ±‚è€Œå®šã€‚</li>
</ul>
<ul>
<li><strong>äºŒçº§ç¼“å­˜å±€é™æ€§</strong><br> mybatisäºŒçº§ç¼“å­˜å¯¹ç»†ç²’åº¦çš„æ•°æ®çº§åˆ«çš„ç¼“å­˜å®ç°ä¸å¥½ï¼Œæ¯”å¦‚å¦‚ä¸‹éœ€æ±‚ï¼šå¯¹å•†å“ä¿¡æ¯è¿›è¡Œç¼“å­˜ï¼Œç”±äºå•†å“ä¿¡æ¯æŸ¥è¯¢è®¿é—®é‡å¤§ï¼Œä½†æ˜¯è¦æ±‚ç”¨æˆ·æ¯æ¬¡éƒ½èƒ½æŸ¥è¯¢æœ€æ–°çš„å•†å“ä¿¡æ¯ï¼Œæ­¤æ—¶å¦‚æœä½¿ç”¨mybatisçš„äºŒçº§ç¼“å­˜å°±æ— æ³•å®ç°å½“ä¸€ä¸ªå•†å“å˜åŒ–æ—¶åªåˆ·æ–°è¯¥å•†å“çš„ç¼“å­˜ä¿¡æ¯è€Œä¸åˆ·æ–°å…¶å®ƒå•†å“çš„ä¿¡æ¯ï¼Œå› ä¸ºmybaitsçš„äºŒçº§ç¼“å­˜åŒºåŸŸä»¥mapperä¸ºå•ä½åˆ’åˆ†ï¼Œå½“ä¸€ä¸ªå•†å“ä¿¡æ¯å˜åŒ–ä¼šå°†æ‰€æœ‰å•†å“ä¿¡æ¯çš„ç¼“å­˜æ•°æ®å…¨éƒ¨æ¸…ç©ºã€‚è§£å†³æ­¤ç±»é—®é¢˜éœ€è¦åœ¨ä¸šåŠ¡å±‚æ ¹æ®éœ€æ±‚å¯¹æ•°æ®æœ‰é’ˆå¯¹æ€§ç¼“å­˜ã€‚</li>
</ul>
<h2 id="12ã€Mybatiså’ŒSpringæ•´åˆ-æŒæ¡"><a href="#12ã€Mybatiså’ŒSpringæ•´åˆ-æŒæ¡" class="headerlink" title="12ã€Mybatiså’ŒSpringæ•´åˆ(æŒæ¡)"></a>12ã€Mybatiså’ŒSpringæ•´åˆ(æŒæ¡)</h2><ul>
<li><strong>æ•´åˆæ€è·¯</strong><ul>
<li>éœ€è¦springé€šè¿‡å•ä¾‹æ–¹å¼ç®¡ç†SqlSessionFactoryã€‚</li>
<li>springå’Œmybatisæ•´åˆç”Ÿæˆä»£ç†å¯¹è±¡ï¼Œä½¿ç”¨SqlSessionFactoryåˆ›å»ºSqlSessionã€‚ï¼ˆspringå’Œmybatisæ•´åˆè‡ªåŠ¨å®Œæˆï¼‰</li>
<li>æŒä¹…å±‚çš„mapperéƒ½éœ€è¦ç”±springè¿›è¡Œç®¡ç†ã€‚</li>
</ul>
</li>
<li><strong>æ•´åˆç¯å¢ƒ</strong><ul>
<li>åˆ›å»ºä¸€ä¸ªæ–°çš„javaå·¥ç¨‹ï¼ˆæ¥è¿‘å®é™…å¼€å‘çš„å·¥ç¨‹ç»“æ„ï¼‰</li>
<li>jaråŒ…ï¼š<ul>
<li>mybatis3.2.7çš„jaråŒ…</li>
<li>spring3.2.0çš„jaråŒ…</li>
<li>mybatiså’Œspringçš„æ•´åˆåŒ…ï¼šæ—©æœŸibatiså’Œspringæ•´åˆæ˜¯ç”±springå®˜æ–¹æä¾›ï¼Œmybatiså’Œspringæ•´åˆç”±mybatisæä¾›ã€‚<br><img src="https://img-blog.csdn.net/20180502165235383?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L1NvbmdfSmlhbmdUYW8=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70" alt="è¿™é‡Œå†™å›¾ç‰‡æè¿°"><br>é¡¹ç›®æºç è§é“¾æ¥: <a href="https://pan.baidu.com/s/1yos2TcC_TRCPWUJ_-Wnd3Q" target="_blank" rel="noopener">å¯†ç : vcae</a> </li>
</ul>
</li>
</ul>
</li>
</ul>
<h2 id="13ã€Mybatisé€†å‘å·¥ç¨‹"><a href="#13ã€Mybatisé€†å‘å·¥ç¨‹" class="headerlink" title="13ã€Mybatisé€†å‘å·¥ç¨‹"></a>13ã€Mybatisé€†å‘å·¥ç¨‹</h2><ul>
<li>ä»€ä¹ˆæ˜¯é€†å‘å·¥ç¨‹<ul>
<li>mybaitséœ€è¦ç¨‹åºå‘˜è‡ªå·±ç¼–å†™sqlè¯­å¥ï¼Œmybatiså®˜æ–¹æä¾›é€†å‘å·¥ç¨‹ å¯ä»¥é’ˆå¯¹å•è¡¨è‡ªåŠ¨ç”Ÿæˆmybatisæ‰§è¡Œæ‰€éœ€è¦çš„ä»£ç ï¼ˆmapper.java,mapper.xmlã€po..ï¼‰</li>
<li>ä¼ä¸šå®é™…å¼€å‘ä¸­ï¼Œå¸¸ç”¨çš„é€†å‘å·¥ç¨‹æ–¹å¼ï¼šç”±äºæ•°æ®åº“çš„è¡¨ç”Ÿæˆjavaä»£ç ã€‚</li>
</ul>
</li>
</ul>
<p>mybatisçš„é¡¹ç›®æºç <a href="https://pan.baidu.com/s/1_7726eiziGRnzX1sAIOMWQ" target="_blank" rel="noopener">å¯†ç : b54x</a><br>mybatisçš„æ–‡æ¡£æ•™ç¨‹<a href="https://pan.baidu.com/s/1kDKJTw5TEFoXm4LrEIn02g" target="_blank" rel="noopener">å¯†ç : pbvf</a><br>mybatis+springMVCçš„è§†é¢‘æ•™ç¨‹<a href="http://www.icoolxue.com/album/show/216" target="_blank" rel="noopener">mybatis+springMVC</a></p>

      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      
        <div class="post-tags">
          
            <a href="/tags/Mybatis/" rel="tag"># Mybatis</a>
          
        </div>
      

      
      
      

      
        <div class="post-nav">
          <div class="post-nav-next post-nav-item">
            
              <a href="/2018/04/10/springmvc/" rel="next" title="SpringMVCå­¦ä¹ ç¬”è®°ğŸ‚">
                <i class="fa fa-chevron-left"></i> SpringMVCå­¦ä¹ ç¬”è®°ğŸ‚
              </a>
            
          </div>

          <span class="post-nav-divider"></span>

          <div class="post-nav-prev post-nav-item">
            
          </div>
        </div>
      

      
      
    </footer>
  </div>
  
  
  
  </article>



    <div class="post-spread">
      
    </div>
  </div>


          </div>
          


          

  



        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      
        <ul class="sidebar-nav motion-element">
          <li class="sidebar-nav-toc sidebar-nav-active" data-target="post-toc-wrap">
            æ–‡ç« ç›®å½•
          </li>
          <li class="sidebar-nav-overview" data-target="site-overview-wrap">
            ç«™ç‚¹æ¦‚è§ˆ
          </li>
        </ul>
      

      <section class="site-overview-wrap sidebar-panel">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
            
              <img class="site-author-image" itemprop="image"
                src="http://www.qqzhi.com/uploadpic/2014-05-04/034226102.jpg"
                alt="EasyChill" />
            
              <p class="site-author-name" itemprop="name">EasyChill</p>
              <p class="site-description motion-element" itemprop="description">è¿™é‡Œæ˜¯æˆ‘çš„åšå®¢ä»¥åŠç”Ÿæ´»æ€»ç»“</p>
          </div>

          <nav class="site-state motion-element">

            
              <div class="site-state-item site-state-posts">
              
                <a href="/archives/">
              
                  <span class="site-state-item-count">8</span>
                  <span class="site-state-item-name">æ—¥å¿—</span>
                </a>
              </div>
            

            

            
              
              
              <div class="site-state-item site-state-tags">
                
                  <span class="site-state-item-count">5</span>
                  <span class="site-state-item-name">æ ‡ç­¾</span>
                
              </div>
            

          </nav>

          

          
            <div class="links-of-author motion-element">
                
                  <span class="links-of-author-item">
                    <a href="https://www.jianshu.com/u/24bc1eb70081" target="_blank" title="ç®€ä¹¦">
                      
                        <i class="fa fa-fw fa-book"></i>ç®€ä¹¦</a>
                  </span>
                
                  <span class="links-of-author-item">
                    <a href="https://github.com/mrsongjiangtao" target="_blank" title="Github">
                      
                        <i class="fa fa-fw fa-github"></i>Github</a>
                  </span>
                
                  <span class="links-of-author-item">
                    <a href="https://img-blog.csdn.net/20180922081342916?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L1NvbmdfSmlhbmdUYW8=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70" target="_blank" title="QQ">
                      
                        <i class="fa fa-fw fa-qq"></i>QQ</a>
                  </span>
                
                  <span class="links-of-author-item">
                    <a href="https://music.163.com/#/user/home?id=378985282" target="_blank" title="ç½‘æ˜“äº‘">
                      
                        <i class="fa fa-fw fa-music"></i>ç½‘æ˜“äº‘</a>
                  </span>
                
            </div>
          

          
          

          
          

          

        </div>
      </section>

      
      <!--noindex-->
        <section class="post-toc-wrap motion-element sidebar-panel sidebar-panel-active">
          <div class="post-toc">

            
              
            

            
              <div class="post-toc-content"><ol class="nav"><li class="nav-item nav-level-2"><a class="nav-link" href="#1ã€å¯¹åŸç”Ÿæ€jdbcç¨‹åºï¼ˆå•ç‹¬ä½¿ç”¨jdbcå¼€å‘ï¼‰é—®é¢˜æ€»ç»“"><span class="nav-number">1.</span> <span class="nav-text">1ã€å¯¹åŸç”Ÿæ€jdbcç¨‹åºï¼ˆå•ç‹¬ä½¿ç”¨jdbcå¼€å‘ï¼‰é—®é¢˜æ€»ç»“</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#2ã€Mybatisæ¡†æ¶åŸç†-æŒæ¡"><span class="nav-number">2.</span> <span class="nav-text">2ã€Mybatisæ¡†æ¶åŸç†(æŒæ¡)</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#3ã€Mybatiså…¥é—¨ç¨‹åº"><span class="nav-number">3.</span> <span class="nav-text">3ã€Mybatiså…¥é—¨ç¨‹åº</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#4ã€Mybatiså¼€å‘daoçš„æ–¹æ³•"><span class="nav-number">4.</span> <span class="nav-text">4ã€Mybatiså¼€å‘daoçš„æ–¹æ³•</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#5ã€Mybatisé…ç½®æ–‡ä»¶SqlMapConfig-xml"><span class="nav-number">5.</span> <span class="nav-text">5ã€Mybatisé…ç½®æ–‡ä»¶SqlMapConfig.xml</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#6ã€Mybatisæ ¸å¿ƒ"><span class="nav-number">6.</span> <span class="nav-text">6ã€Mybatisæ ¸å¿ƒ</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#7ã€Mybatisçš„åŠ¨æ€sql-æŒæ¡"><span class="nav-number">7.</span> <span class="nav-text">7ã€Mybatisçš„åŠ¨æ€sql(æŒæ¡)</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#10ã€Mybatiså»¶è¿ŸåŠ è½½"><span class="nav-number">8.</span> <span class="nav-text">10ã€Mybatiså»¶è¿ŸåŠ è½½</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#11ã€MybatisæŸ¥è¯¢ç¼“å­˜"><span class="nav-number">9.</span> <span class="nav-text">11ã€MybatisæŸ¥è¯¢ç¼“å­˜</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#12ã€Mybatiså’ŒSpringæ•´åˆ-æŒæ¡"><span class="nav-number">10.</span> <span class="nav-text">12ã€Mybatiså’ŒSpringæ•´åˆ(æŒæ¡)</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#13ã€Mybatisé€†å‘å·¥ç¨‹"><span class="nav-number">11.</span> <span class="nav-text">13ã€Mybatisé€†å‘å·¥ç¨‹</span></a></li></ol></div>
            
            <iframe frameborder="no" border="0" marginwidth="0" marginheight="0" width=330 height=86 src="//music.163.com/outchain/player?type=2&id=447076485&auto=1&height=66"></iframe>
          </div>
        </section>
      <!--/noindex-->
      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; <span itemprop="copyrightYear">2018</span>
  <span class="with-love">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">EasyChill</span>

  
</div>




        







        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  












  
  
    <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>
  

  
  
    <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>
  

  
  
    <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>
  


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.4"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.4"></script>



  
  


  <script type="text/javascript" src="/js/src/affix.js?v=5.1.4"></script>

  <script type="text/javascript" src="/js/src/schemes/pisces.js?v=5.1.4"></script>



  
  <script type="text/javascript" src="/js/src/scrollspy.js?v=5.1.4"></script>
<script type="text/javascript" src="/js/src/post-details.js?v=5.1.4"></script>



  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.4"></script>



  


  




	





  





  












  





  

  

  

  
  

  

  

  

</body>
</html>
